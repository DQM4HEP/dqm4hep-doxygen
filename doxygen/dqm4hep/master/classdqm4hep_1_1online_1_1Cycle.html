<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>DQM4hep: dqm4hep::online::Cycle Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">DQM4hep
   &#160;<span id="projectnumber">1.4</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacedqm4hep.html">dqm4hep</a></li><li class="navelem"><a class="el" href="namespacedqm4hep_1_1online.html">online</a></li><li class="navelem"><a class="el" href="classdqm4hep_1_1online_1_1Cycle.html">Cycle</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="classdqm4hep_1_1online_1_1Cycle-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">dqm4hep::online::Cycle Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><a class="el" href="classdqm4hep_1_1online_1_1Cycle.html" title="Cycle class. ">Cycle</a> class.  
 <a href="classdqm4hep_1_1online_1_1Cycle.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="Cycle_8h_source.html">Cycle.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a0298a48dbe67e4ec0b7b91946b1b8d1f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdqm4hep_1_1online_1_1Cycle.html#a0298a48dbe67e4ec0b7b91946b1b8d1f">Cycle</a> (<a class="el" href="classdqm4hep_1_1online_1_1AppEventLoop.html">AppEventLoop</a> &amp;loop)</td></tr>
<tr class="memdesc:a0298a48dbe67e4ec0b7b91946b1b8d1f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor.  <a href="#a0298a48dbe67e4ec0b7b91946b1b8d1f">More...</a><br/></td></tr>
<tr class="separator:a0298a48dbe67e4ec0b7b91946b1b8d1f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acdd978d3b8a3cf6f303f911505c3f310"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdqm4hep_1_1online_1_1Cycle.html#acdd978d3b8a3cf6f303f911505c3f310">~Cycle</a> ()</td></tr>
<tr class="memdesc:acdd978d3b8a3cf6f303f911505c3f310"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destructor.  <a href="#acdd978d3b8a3cf6f303f911505c3f310">More...</a><br/></td></tr>
<tr class="separator:acdd978d3b8a3cf6f303f911505c3f310"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1aa5df3d4390fbde7d6dafed40ec33b7"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdqm4hep_1_1online_1_1Cycle.html#a1aa5df3d4390fbde7d6dafed40ec33b7">timeout</a> () const </td></tr>
<tr class="memdesc:a1aa5df3d4390fbde7d6dafed40ec33b7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the timeout value (unit seconds)  <a href="#a1aa5df3d4390fbde7d6dafed40ec33b7">More...</a><br/></td></tr>
<tr class="separator:a1aa5df3d4390fbde7d6dafed40ec33b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1f98f78c53790f6172a9248b59c25fa7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdqm4hep_1_1online_1_1Cycle.html#a1f98f78c53790f6172a9248b59c25fa7">setTimeout</a> (unsigned int value)</td></tr>
<tr class="memdesc:a1f98f78c53790f6172a9248b59c25fa7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the cycle timeout value (unit seconds)  <a href="#a1f98f78c53790f6172a9248b59c25fa7">More...</a><br/></td></tr>
<tr class="separator:a1f98f78c53790f6172a9248b59c25fa7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5b711f6bbe31b19c97c9cb09e4e6d6a5"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdqm4hep_1_1online_1_1Cycle.html#a5b711f6bbe31b19c97c9cb09e4e6d6a5">timerPeriod</a> () const </td></tr>
<tr class="memdesc:a5b711f6bbe31b19c97c9cb09e4e6d6a5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the timer period value (unit seconds)  <a href="#a5b711f6bbe31b19c97c9cb09e4e6d6a5">More...</a><br/></td></tr>
<tr class="separator:a5b711f6bbe31b19c97c9cb09e4e6d6a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac14fa8ffa933e8d782ec0a06bcce180e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdqm4hep_1_1online_1_1Cycle.html#ac14fa8ffa933e8d782ec0a06bcce180e">setTimerPeriod</a> (unsigned int value)</td></tr>
<tr class="memdesc:ac14fa8ffa933e8d782ec0a06bcce180e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the cycle timer period value (unit seconds)  <a href="#ac14fa8ffa933e8d782ec0a06bcce180e">More...</a><br/></td></tr>
<tr class="separator:ac14fa8ffa933e8d782ec0a06bcce180e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3383e80062e314e4d7d6f6a1ad7e1386"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdqm4hep_1_1online_1_1Cycle.html#a3383e80062e314e4d7d6f6a1ad7e1386">setCounterLimit</a> (unsigned int value)</td></tr>
<tr class="memdesc:a3383e80062e314e4d7d6f6a1ad7e1386"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the couting limit.  <a href="#a3383e80062e314e4d7d6f6a1ad7e1386">More...</a><br/></td></tr>
<tr class="separator:a3383e80062e314e4d7d6f6a1ad7e1386"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8a51aa1b025e5f4bc20055eec191883c"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdqm4hep_1_1online_1_1Cycle.html#a8a51aa1b025e5f4bc20055eec191883c">counterLimit</a> () const </td></tr>
<tr class="memdesc:a8a51aa1b025e5f4bc20055eec191883c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the couting limit.  <a href="#a8a51aa1b025e5f4bc20055eec191883c">More...</a><br/></td></tr>
<tr class="separator:a8a51aa1b025e5f4bc20055eec191883c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2f764a26c152bd7936ac8353ae91bf76"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdqm4hep_1_1online_1_1Cycle.html#a2f764a26c152bd7936ac8353ae91bf76">setEventPriority</a> (int priority)</td></tr>
<tr class="memdesc:a2f764a26c152bd7936ac8353ae91bf76"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the EndOfCycleEvent event priority.  <a href="#a2f764a26c152bd7936ac8353ae91bf76">More...</a><br/></td></tr>
<tr class="separator:a2f764a26c152bd7936ac8353ae91bf76"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3b03cad9d78a683ea1ead34ed69a98e0"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdqm4hep_1_1online_1_1Cycle.html#a3b03cad9d78a683ea1ead34ed69a98e0">eventPriority</a> () const </td></tr>
<tr class="memdesc:a3b03cad9d78a683ea1ead34ed69a98e0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the EndOfCycleEvent event priority.  <a href="#a3b03cad9d78a683ea1ead34ed69a98e0">More...</a><br/></td></tr>
<tr class="separator:a3b03cad9d78a683ea1ead34ed69a98e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aef76f379a3a4f681d32c5eb544e8f2e2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdqm4hep_1_1online_1_1Cycle.html#aef76f379a3a4f681d32c5eb544e8f2e2">incrementCounter</a> (unsigned int increment=1)</td></tr>
<tr class="memdesc:aef76f379a3a4f681d32c5eb544e8f2e2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Increment the counter by a value.  <a href="#aef76f379a3a4f681d32c5eb544e8f2e2">More...</a><br/></td></tr>
<tr class="separator:aef76f379a3a4f681d32c5eb544e8f2e2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3f05caddee76c84e237f67e76cc2ee3c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdqm4hep_1_1online_1_1Cycle.html#a3f05caddee76c84e237f67e76cc2ee3c">startCycle</a> (bool emit=false)</td></tr>
<tr class="memdesc:a3f05caddee76c84e237f67e76cc2ee3c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Start a new cycle Stop the current cycle if running.  <a href="#a3f05caddee76c84e237f67e76cc2ee3c">More...</a><br/></td></tr>
<tr class="separator:a3f05caddee76c84e237f67e76cc2ee3c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a12f0f9a63d57d7e181f8ededcfa9dde7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdqm4hep_1_1online_1_1Cycle.html#a12f0f9a63d57d7e181f8ededcfa9dde7">forceStopCycle</a> (bool waitEnd=true, bool emit=false)</td></tr>
<tr class="memdesc:a12f0f9a63d57d7e181f8ededcfa9dde7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stop the current cycle if running.  <a href="#a12f0f9a63d57d7e181f8ededcfa9dde7">More...</a><br/></td></tr>
<tr class="separator:a12f0f9a63d57d7e181f8ededcfa9dde7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a06b824e9f933cd4eef8596307f55bf4e"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdqm4hep_1_1online_1_1Cycle.html#a06b824e9f933cd4eef8596307f55bf4e">running</a> () const </td></tr>
<tr class="memdesc:a06b824e9f933cd4eef8596307f55bf4e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Whether the cycle is running.  <a href="#a06b824e9f933cd4eef8596307f55bf4e">More...</a><br/></td></tr>
<tr class="separator:a06b824e9f933cd4eef8596307f55bf4e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a52d8908c29126e31387672939b5eef03"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdqm4hep_1_1online_1_1Cycle.html#a52d8908c29126e31387672939b5eef03">cycleLoop</a> ()</td></tr>
<tr class="memdesc:a52d8908c29126e31387672939b5eef03"><td class="mdescLeft">&#160;</td><td class="mdescRight">The main cycle loop thread.  <a href="#a52d8908c29126e31387672939b5eef03">More...</a><br/></td></tr>
<tr class="separator:a52d8908c29126e31387672939b5eef03"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8208ce8b12f5e2b109cb7e544370c3f0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdqm4hep_1_1online_1_1Cycle.html#a8208ce8b12f5e2b109cb7e544370c3f0">endOfCycle</a> (<a class="el" href="structdqm4hep_1_1online_1_1EOCCondition.html">EOCCondition</a> &amp;condition)</td></tr>
<tr class="memdesc:a8208ce8b12f5e2b109cb7e544370c3f0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Called at end of cycle.  <a href="#a8208ce8b12f5e2b109cb7e544370c3f0">More...</a><br/></td></tr>
<tr class="separator:a8208ce8b12f5e2b109cb7e544370c3f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a2fb83ec106ac170e4e15b55d89315293"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classdqm4hep_1_1online_1_1AppEventLoop.html">AppEventLoop</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdqm4hep_1_1online_1_1Cycle.html#a2fb83ec106ac170e4e15b55d89315293">m_eventLoop</a></td></tr>
<tr class="memdesc:a2fb83ec106ac170e4e15b55d89315293"><td class="mdescLeft">&#160;</td><td class="mdescRight">The application event loop in which the cycle is running.  <a href="#a2fb83ec106ac170e4e15b55d89315293">More...</a><br/></td></tr>
<tr class="separator:a2fb83ec106ac170e4e15b55d89315293"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a88c716c80a526f89685f5331eae35f31"><td class="memItemLeft" align="right" valign="top">std::atomic_bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdqm4hep_1_1online_1_1Cycle.html#a88c716c80a526f89685f5331eae35f31">m_running</a> = {false}</td></tr>
<tr class="memdesc:a88c716c80a526f89685f5331eae35f31"><td class="mdescLeft">&#160;</td><td class="mdescRight">Whether a cycle has been started.  <a href="#a88c716c80a526f89685f5331eae35f31">More...</a><br/></td></tr>
<tr class="separator:a88c716c80a526f89685f5331eae35f31"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a67d2dad968959acfa5380ea50d601007"><td class="memItemLeft" align="right" valign="top">std::atomic_bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdqm4hep_1_1online_1_1Cycle.html#a67d2dad968959acfa5380ea50d601007">m_startCycleFlag</a> = {false}</td></tr>
<tr class="memdesc:a67d2dad968959acfa5380ea50d601007"><td class="mdescLeft">&#160;</td><td class="mdescRight">An internal flag to trigger a new cycle.  <a href="#a67d2dad968959acfa5380ea50d601007">More...</a><br/></td></tr>
<tr class="separator:a67d2dad968959acfa5380ea50d601007"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac3584bea3215ebd869ff334d47fdb2d5"><td class="memItemLeft" align="right" valign="top">std::atomic_bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdqm4hep_1_1online_1_1Cycle.html#ac3584bea3215ebd869ff334d47fdb2d5">m_forceStopFlag</a> = {false}</td></tr>
<tr class="memdesc:ac3584bea3215ebd869ff334d47fdb2d5"><td class="mdescLeft">&#160;</td><td class="mdescRight">An internal flag to trigger an end of cycle.  <a href="#ac3584bea3215ebd869ff334d47fdb2d5">More...</a><br/></td></tr>
<tr class="separator:ac3584bea3215ebd869ff334d47fdb2d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac6ac1e56d1ae906fea1f456d60ee52ad"><td class="memItemLeft" align="right" valign="top">std::atomic_bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdqm4hep_1_1online_1_1Cycle.html#ac6ac1e56d1ae906fea1f456d60ee52ad">m_eocEmit</a> = {true}</td></tr>
<tr class="memdesc:ac6ac1e56d1ae906fea1f456d60ee52ad"><td class="mdescLeft">&#160;</td><td class="mdescRight">Whether an event has to be posted on end of cycle.  <a href="#ac6ac1e56d1ae906fea1f456d60ee52ad">More...</a><br/></td></tr>
<tr class="separator:ac6ac1e56d1ae906fea1f456d60ee52ad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4ebb0f7231bf5e8aaf03d7f8ee93ac21"><td class="memItemLeft" align="right" valign="top">std::atomic_bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdqm4hep_1_1online_1_1Cycle.html#a4ebb0f7231bf5e8aaf03d7f8ee93ac21">m_stopFlag</a> = {false}</td></tr>
<tr class="memdesc:a4ebb0f7231bf5e8aaf03d7f8ee93ac21"><td class="mdescLeft">&#160;</td><td class="mdescRight">An internal flag to stop the cycle thread.  <a href="#a4ebb0f7231bf5e8aaf03d7f8ee93ac21">More...</a><br/></td></tr>
<tr class="separator:a4ebb0f7231bf5e8aaf03d7f8ee93ac21"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a42d4ecf6651b32aaec583a36f155f65e"><td class="memItemLeft" align="right" valign="top">std::thread&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdqm4hep_1_1online_1_1Cycle.html#a42d4ecf6651b32aaec583a36f155f65e">m_thread</a> = {}</td></tr>
<tr class="memdesc:a42d4ecf6651b32aaec583a36f155f65e"><td class="mdescLeft">&#160;</td><td class="mdescRight">The thread object running the cycle function.  <a href="#a42d4ecf6651b32aaec583a36f155f65e">More...</a><br/></td></tr>
<tr class="separator:a42d4ecf6651b32aaec583a36f155f65e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa6af222fa9baec44ff80220b43875486"><td class="memItemLeft" align="right" valign="top">std::atomic_uint&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdqm4hep_1_1online_1_1Cycle.html#aa6af222fa9baec44ff80220b43875486">m_timeout</a> = {10}</td></tr>
<tr class="memdesc:aa6af222fa9baec44ff80220b43875486"><td class="mdescLeft">&#160;</td><td class="mdescRight">The user timeout value, default 10 (unit seconds)  <a href="#aa6af222fa9baec44ff80220b43875486">More...</a><br/></td></tr>
<tr class="separator:aa6af222fa9baec44ff80220b43875486"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae7960b9bc65b46f6708f5d8ffa8cf59d"><td class="memItemLeft" align="right" valign="top">std::atomic_uint&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdqm4hep_1_1online_1_1Cycle.html#ae7960b9bc65b46f6708f5d8ffa8cf59d">m_period</a> = {30}</td></tr>
<tr class="memdesc:ae7960b9bc65b46f6708f5d8ffa8cf59d"><td class="mdescLeft">&#160;</td><td class="mdescRight">The user timer period, default 30 (unit seconds)  <a href="#ae7960b9bc65b46f6708f5d8ffa8cf59d">More...</a><br/></td></tr>
<tr class="separator:ae7960b9bc65b46f6708f5d8ffa8cf59d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a34aaee17f5b45c2972d531c6f01a2429"><td class="memItemLeft" align="right" valign="top">std::atomic_uint&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdqm4hep_1_1online_1_1Cycle.html#a34aaee17f5b45c2972d531c6f01a2429">m_counterLimit</a> = {0}</td></tr>
<tr class="memdesc:a34aaee17f5b45c2972d531c6f01a2429"><td class="mdescLeft">&#160;</td><td class="mdescRight">The user counter limit.  <a href="#a34aaee17f5b45c2972d531c6f01a2429">More...</a><br/></td></tr>
<tr class="separator:a34aaee17f5b45c2972d531c6f01a2429"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeef018da0485beadba71021d314d76ca"><td class="memItemLeft" align="right" valign="top">std::atomic_uint&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdqm4hep_1_1online_1_1Cycle.html#aeef018da0485beadba71021d314d76ca">m_currentCounter</a> = {0}</td></tr>
<tr class="memdesc:aeef018da0485beadba71021d314d76ca"><td class="mdescLeft">&#160;</td><td class="mdescRight">The internal counter incremented by user.  <a href="#aeef018da0485beadba71021d314d76ca">More...</a><br/></td></tr>
<tr class="separator:aeef018da0485beadba71021d314d76ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a99667c53c09ab43f3f47bb1de0878621"><td class="memItemLeft" align="right" valign="top">std::atomic_int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdqm4hep_1_1online_1_1Cycle.html#a99667c53c09ab43f3f47bb1de0878621">m_eventPriority</a> = {60}</td></tr>
<tr class="memdesc:a99667c53c09ab43f3f47bb1de0878621"><td class="mdescLeft">&#160;</td><td class="mdescRight">The end of cycle event priority in the event loop.  <a href="#a99667c53c09ab43f3f47bb1de0878621">More...</a><br/></td></tr>
<tr class="separator:a99667c53c09ab43f3f47bb1de0878621"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad9ae3dbad17275497815bbec61da555e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classdqm4hep_1_1core_1_1time.html#af617bcfd3cf2c8255ddb0b27510cb746">core::time::point</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdqm4hep_1_1online_1_1Cycle.html#ad9ae3dbad17275497815bbec61da555e">m_lastCounterIncrement</a> = {}</td></tr>
<tr class="memdesc:ad9ae3dbad17275497815bbec61da555e"><td class="mdescLeft">&#160;</td><td class="mdescRight">The last time point when the increement method was called.  <a href="#ad9ae3dbad17275497815bbec61da555e">More...</a><br/></td></tr>
<tr class="separator:ad9ae3dbad17275497815bbec61da555e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p><a class="el" href="classdqm4hep_1_1online_1_1Cycle.html" title="Cycle class. ">Cycle</a> class. </p>
<p>Process a cycle of processEvent(evt) call for a AnalysisModule. See implementation for cycle types.</p>
<p>The cycle value is the value for which the cycle should normally ends.</p>
<p>The timeout value is the maximum time between two processEvent(evt) call When the timeout is reached, the cycle ends. The default timeout value is 10 seconds and can be changed via the method setTimeout(secs) </p>

<p>Definition at line <a class="el" href="Cycle_8h_source.html#l00062">62</a> of file <a class="el" href="Cycle_8h_source.html">Cycle.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a0298a48dbe67e4ec0b7b91946b1b8d1f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">dqm4hep::online::Cycle::Cycle </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classdqm4hep_1_1online_1_1AppEventLoop.html">AppEventLoop</a> &amp;&#160;</td>
          <td class="paramname"><em>loop</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Constructor. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">loop</td><td>the application event loop </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="Cycle_8cc_source.html#l00029">29</a> of file <a class="el" href="Cycle_8cc_source.html">Cycle.cc</a>.</p>

<p>References <a class="el" href="Cycle_8cc_source.html#l00132">cycleLoop()</a>, and <a class="el" href="Cycle_8h_source.html#l00183">m_thread</a>.</p>
<div class="fragment"><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;                                   :</div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;      <a class="code" href="classdqm4hep_1_1online_1_1Cycle.html#a2fb83ec106ac170e4e15b55d89315293">m_eventLoop</a>(loop) {</div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;      <a class="code" href="classdqm4hep_1_1online_1_1Cycle.html#a42d4ecf6651b32aaec583a36f155f65e">m_thread</a> = std::thread(&amp;<a class="code" href="classdqm4hep_1_1online_1_1Cycle.html#a52d8908c29126e31387672939b5eef03">Cycle::cycleLoop</a>, <span class="keyword">this</span>);</div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;    }</div>
<div class="ttc" id="classdqm4hep_1_1online_1_1Cycle_html_a52d8908c29126e31387672939b5eef03"><div class="ttname"><a href="classdqm4hep_1_1online_1_1Cycle.html#a52d8908c29126e31387672939b5eef03">dqm4hep::online::Cycle::cycleLoop</a></div><div class="ttdeci">void cycleLoop()</div><div class="ttdoc">The main cycle loop thread. </div><div class="ttdef"><b>Definition:</b> <a href="Cycle_8cc_source.html#l00132">Cycle.cc:132</a></div></div>
<div class="ttc" id="classdqm4hep_1_1online_1_1Cycle_html_a2fb83ec106ac170e4e15b55d89315293"><div class="ttname"><a href="classdqm4hep_1_1online_1_1Cycle.html#a2fb83ec106ac170e4e15b55d89315293">dqm4hep::online::Cycle::m_eventLoop</a></div><div class="ttdeci">AppEventLoop &amp; m_eventLoop</div><div class="ttdoc">The application event loop in which the cycle is running. </div><div class="ttdef"><b>Definition:</b> <a href="Cycle_8h_source.html#l00171">Cycle.h:171</a></div></div>
<div class="ttc" id="classdqm4hep_1_1online_1_1Cycle_html_a42d4ecf6651b32aaec583a36f155f65e"><div class="ttname"><a href="classdqm4hep_1_1online_1_1Cycle.html#a42d4ecf6651b32aaec583a36f155f65e">dqm4hep::online::Cycle::m_thread</a></div><div class="ttdeci">std::thread m_thread</div><div class="ttdoc">The thread object running the cycle function. </div><div class="ttdef"><b>Definition:</b> <a href="Cycle_8h_source.html#l00183">Cycle.h:183</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="acdd978d3b8a3cf6f303f911505c3f310"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">dqm4hep::online::Cycle::~Cycle </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Destructor. </p>

<p>Definition at line <a class="el" href="Cycle_8cc_source.html#l00036">36</a> of file <a class="el" href="Cycle_8cc_source.html">Cycle.cc</a>.</p>

<p>References <a class="el" href="Cycle_8h_source.html#l00181">m_stopFlag</a>, and <a class="el" href="Cycle_8h_source.html#l00183">m_thread</a>.</p>
<div class="fragment"><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;                  {</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;      <a class="code" href="classdqm4hep_1_1online_1_1Cycle.html#a4ebb0f7231bf5e8aaf03d7f8ee93ac21">m_stopFlag</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;      <a class="code" href="classdqm4hep_1_1online_1_1Cycle.html#a42d4ecf6651b32aaec583a36f155f65e">m_thread</a>.join();</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;    }</div>
<div class="ttc" id="classdqm4hep_1_1online_1_1Cycle_html_a4ebb0f7231bf5e8aaf03d7f8ee93ac21"><div class="ttname"><a href="classdqm4hep_1_1online_1_1Cycle.html#a4ebb0f7231bf5e8aaf03d7f8ee93ac21">dqm4hep::online::Cycle::m_stopFlag</a></div><div class="ttdeci">std::atomic_bool m_stopFlag</div><div class="ttdoc">An internal flag to stop the cycle thread. </div><div class="ttdef"><b>Definition:</b> <a href="Cycle_8h_source.html#l00181">Cycle.h:181</a></div></div>
<div class="ttc" id="classdqm4hep_1_1online_1_1Cycle_html_a42d4ecf6651b32aaec583a36f155f65e"><div class="ttname"><a href="classdqm4hep_1_1online_1_1Cycle.html#a42d4ecf6651b32aaec583a36f155f65e">dqm4hep::online::Cycle::m_thread</a></div><div class="ttdeci">std::thread m_thread</div><div class="ttdoc">The thread object running the cycle function. </div><div class="ttdef"><b>Definition:</b> <a href="Cycle_8h_source.html#l00183">Cycle.h:183</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a8a51aa1b025e5f4bc20055eec191883c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int dqm4hep::online::Cycle::counterLimit </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the couting limit. </p>

<p>Definition at line <a class="el" href="Cycle_8cc_source.html#l00067">67</a> of file <a class="el" href="Cycle_8cc_source.html">Cycle.cc</a>.</p>

<p>References <a class="el" href="Cycle_8h_source.html#l00189">m_counterLimit</a>.</p>
<div class="fragment"><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;                                           {</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classdqm4hep_1_1online_1_1Cycle.html#a34aaee17f5b45c2972d531c6f01a2429">m_counterLimit</a>.load();</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;    }</div>
<div class="ttc" id="classdqm4hep_1_1online_1_1Cycle_html_a34aaee17f5b45c2972d531c6f01a2429"><div class="ttname"><a href="classdqm4hep_1_1online_1_1Cycle.html#a34aaee17f5b45c2972d531c6f01a2429">dqm4hep::online::Cycle::m_counterLimit</a></div><div class="ttdeci">std::atomic_uint m_counterLimit</div><div class="ttdoc">The user counter limit. </div><div class="ttdef"><b>Definition:</b> <a href="Cycle_8h_source.html#l00189">Cycle.h:189</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a52d8908c29126e31387672939b5eef03"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void dqm4hep::online::Cycle::cycleLoop </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The main cycle loop thread. </p>

<p>Definition at line <a class="el" href="Cycle_8cc_source.html#l00132">132</a> of file <a class="el" href="Cycle_8cc_source.html">Cycle.cc</a>.</p>

<p>References <a class="el" href="Cycle_8cc_source.html#l00188">endOfCycle()</a>, <a class="el" href="Cycle_8h_source.html#l00189">m_counterLimit</a>, <a class="el" href="Cycle_8h_source.html#l00191">m_currentCounter</a>, <a class="el" href="Cycle_8h_source.html#l00179">m_eocEmit</a>, <a class="el" href="Cycle_8h_source.html#l00043">dqm4hep::online::EOCCondition::m_forcedEnd</a>, <a class="el" href="Cycle_8h_source.html#l00177">m_forceStopFlag</a>, <a class="el" href="Cycle_8h_source.html#l00195">m_lastCounterIncrement</a>, <a class="el" href="Cycle_8h_source.html#l00187">m_period</a>, <a class="el" href="Cycle_8h_source.html#l00173">m_running</a>, <a class="el" href="Cycle_8h_source.html#l00175">m_startCycleFlag</a>, <a class="el" href="Cycle_8h_source.html#l00031">dqm4hep::online::EOCCondition::m_startTime</a>, <a class="el" href="Cycle_8h_source.html#l00181">m_stopFlag</a>, <a class="el" href="Cycle_8h_source.html#l00185">m_timeout</a>, <a class="el" href="Cycle_8h_source.html#l00041">dqm4hep::online::EOCCondition::m_timeoutReached</a>, and <a class="el" href="Internal_8h_source.html#l00160">dqm4hep::core::time::now()</a>.</p>

<p>Referenced by <a class="el" href="Cycle_8cc_source.html#l00029">Cycle()</a>.</p>
<div class="fragment"><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;                          {</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;      <span class="keywordflow">while</span>(1) {</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;        <span class="keywordflow">if</span>(<a class="code" href="classdqm4hep_1_1online_1_1Cycle.html#a4ebb0f7231bf5e8aaf03d7f8ee93ac21">m_stopFlag</a>.load()) {</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;          <span class="keywordflow">break</span>;          </div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;        }</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;        <span class="keywordflow">if</span>(not <a class="code" href="classdqm4hep_1_1online_1_1Cycle.html#a67d2dad968959acfa5380ea50d601007">m_startCycleFlag</a>.load()) {</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;          usleep(10000);</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;          <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;        }</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;        <span class="comment">// start of cycle here</span></div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;        <a class="code" href="classdqm4hep_1_1online_1_1Cycle.html#a88c716c80a526f89685f5331eae35f31">m_running</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;        <a class="code" href="classdqm4hep_1_1online_1_1Cycle.html#ac3584bea3215ebd869ff334d47fdb2d5">m_forceStopFlag</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;        <a class="code" href="classdqm4hep_1_1online_1_1Cycle.html#ac6ac1e56d1ae906fea1f456d60ee52ad">m_eocEmit</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;        EOCCondition condition;</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;        condition.m_startTime = <a class="code" href="classdqm4hep_1_1core_1_1time.html#a105a9529e7228a1567dfda4b5f083bfc">core::time::now</a>();</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;        condition.m_forcedEnd = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;        <a class="code" href="classdqm4hep_1_1online_1_1Cycle.html#ad9ae3dbad17275497815bbec61da555e">m_lastCounterIncrement</a> = condition.m_startTime;</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;        <a class="code" href="classdqm4hep_1_1online_1_1Cycle.html#aeef018da0485beadba71021d314d76ca">m_currentCounter</a> = 0;</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;        <span class="keywordflow">while</span>(1) {</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;          <span class="keywordflow">if</span>(<a class="code" href="classdqm4hep_1_1online_1_1Cycle.html#a4ebb0f7231bf5e8aaf03d7f8ee93ac21">m_stopFlag</a>.load() or <a class="code" href="classdqm4hep_1_1online_1_1Cycle.html#ac3584bea3215ebd869ff334d47fdb2d5">m_forceStopFlag</a>.load()) {</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;            condition.m_forcedEnd = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;            <span class="keywordflow">if</span>(<a class="code" href="classdqm4hep_1_1online_1_1Cycle.html#ac6ac1e56d1ae906fea1f456d60ee52ad">m_eocEmit</a>.load()) {</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;              <a class="code" href="classdqm4hep_1_1online_1_1Cycle.html#a8208ce8b12f5e2b109cb7e544370c3f0">endOfCycle</a>(condition);</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;              <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;            }</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;          }</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;          <span class="keyword">const</span> <a class="code" href="classdqm4hep_1_1core_1_1time.html#af617bcfd3cf2c8255ddb0b27510cb746">core::time::point</a> now = <a class="code" href="classdqm4hep_1_1core_1_1time.html#a105a9529e7228a1567dfda4b5f083bfc">core::time::now</a>();</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;          <span class="keyword">const</span> <span class="keywordtype">float</span> timeoutEllapsed = std::chrono::duration_cast&lt;std::chrono::milliseconds&gt;(now-<a class="code" href="classdqm4hep_1_1online_1_1Cycle.html#ad9ae3dbad17275497815bbec61da555e">m_lastCounterIncrement</a>).count() / 1000.f;</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;          <span class="keyword">const</span> <span class="keywordtype">bool</span> timeoutReached = (0 == <a class="code" href="classdqm4hep_1_1online_1_1Cycle.html#aa6af222fa9baec44ff80220b43875486">m_timeout</a>) ? <span class="keyword">false</span> : (timeoutEllapsed &gt;= <a class="code" href="classdqm4hep_1_1online_1_1Cycle.html#aa6af222fa9baec44ff80220b43875486">m_timeout</a>.load());</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;          <span class="comment">// check timeout first</span></div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;          <span class="keywordflow">if</span>(timeoutReached) {</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;            condition.m_timeoutReached = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;            <a class="code" href="classdqm4hep_1_1online_1_1Cycle.html#a8208ce8b12f5e2b109cb7e544370c3f0">endOfCycle</a>(condition);</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;          }</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;          <span class="comment">// check for normal termination of cycle</span></div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;          <span class="keyword">const</span> <span class="keywordtype">bool</span> counterOver = (0 == <a class="code" href="classdqm4hep_1_1online_1_1Cycle.html#a34aaee17f5b45c2972d531c6f01a2429">m_counterLimit</a>) ? <span class="keyword">false</span> : (<a class="code" href="classdqm4hep_1_1online_1_1Cycle.html#aeef018da0485beadba71021d314d76ca">m_currentCounter</a> &gt;= <a class="code" href="classdqm4hep_1_1online_1_1Cycle.html#a34aaee17f5b45c2972d531c6f01a2429">m_counterLimit</a>);</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;          <span class="keyword">const</span> <span class="keywordtype">float</span> ellapsed = std::chrono::duration_cast&lt;std::chrono::milliseconds&gt;(now-condition.m_startTime).count() / 1000.f;</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;          <span class="keyword">const</span> <span class="keywordtype">bool</span> periodReached = (0 == <a class="code" href="classdqm4hep_1_1online_1_1Cycle.html#ae7960b9bc65b46f6708f5d8ffa8cf59d">m_period</a>) ? <span class="keyword">false</span> : (ellapsed &gt;= <a class="code" href="classdqm4hep_1_1online_1_1Cycle.html#ae7960b9bc65b46f6708f5d8ffa8cf59d">m_period</a>.load());</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;          <span class="keywordflow">if</span>(counterOver or periodReached) {</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;            <a class="code" href="classdqm4hep_1_1online_1_1Cycle.html#a8208ce8b12f5e2b109cb7e544370c3f0">endOfCycle</a>(condition);</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;          }</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;          usleep(10000);</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;        }</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;        <span class="comment">// reset cycle properties</span></div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;        <a class="code" href="classdqm4hep_1_1online_1_1Cycle.html#a67d2dad968959acfa5380ea50d601007">m_startCycleFlag</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;        <a class="code" href="classdqm4hep_1_1online_1_1Cycle.html#ac3584bea3215ebd869ff334d47fdb2d5">m_forceStopFlag</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;        <a class="code" href="classdqm4hep_1_1online_1_1Cycle.html#ac6ac1e56d1ae906fea1f456d60ee52ad">m_eocEmit</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;        <a class="code" href="classdqm4hep_1_1online_1_1Cycle.html#a88c716c80a526f89685f5331eae35f31">m_running</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;        usleep(10000);</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;      }</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;    }</div>
<div class="ttc" id="classdqm4hep_1_1online_1_1Cycle_html_a67d2dad968959acfa5380ea50d601007"><div class="ttname"><a href="classdqm4hep_1_1online_1_1Cycle.html#a67d2dad968959acfa5380ea50d601007">dqm4hep::online::Cycle::m_startCycleFlag</a></div><div class="ttdeci">std::atomic_bool m_startCycleFlag</div><div class="ttdoc">An internal flag to trigger a new cycle. </div><div class="ttdef"><b>Definition:</b> <a href="Cycle_8h_source.html#l00175">Cycle.h:175</a></div></div>
<div class="ttc" id="classdqm4hep_1_1online_1_1Cycle_html_a4ebb0f7231bf5e8aaf03d7f8ee93ac21"><div class="ttname"><a href="classdqm4hep_1_1online_1_1Cycle.html#a4ebb0f7231bf5e8aaf03d7f8ee93ac21">dqm4hep::online::Cycle::m_stopFlag</a></div><div class="ttdeci">std::atomic_bool m_stopFlag</div><div class="ttdoc">An internal flag to stop the cycle thread. </div><div class="ttdef"><b>Definition:</b> <a href="Cycle_8h_source.html#l00181">Cycle.h:181</a></div></div>
<div class="ttc" id="classdqm4hep_1_1core_1_1time_html_a105a9529e7228a1567dfda4b5f083bfc"><div class="ttname"><a href="classdqm4hep_1_1core_1_1time.html#a105a9529e7228a1567dfda4b5f083bfc">dqm4hep::core::time::now</a></div><div class="ttdeci">static point now()</div><div class="ttdoc">Returns the current time. </div><div class="ttdef"><b>Definition:</b> <a href="Internal_8h_source.html#l00160">Internal.h:160</a></div></div>
<div class="ttc" id="classdqm4hep_1_1core_1_1time_html_af617bcfd3cf2c8255ddb0b27510cb746"><div class="ttname"><a href="classdqm4hep_1_1core_1_1time.html#af617bcfd3cf2c8255ddb0b27510cb746">dqm4hep::core::time::point</a></div><div class="ttdeci">clock::time_point point</div><div class="ttdef"><b>Definition:</b> <a href="Internal_8h_source.html#l00153">Internal.h:153</a></div></div>
<div class="ttc" id="classdqm4hep_1_1online_1_1Cycle_html_ac3584bea3215ebd869ff334d47fdb2d5"><div class="ttname"><a href="classdqm4hep_1_1online_1_1Cycle.html#ac3584bea3215ebd869ff334d47fdb2d5">dqm4hep::online::Cycle::m_forceStopFlag</a></div><div class="ttdeci">std::atomic_bool m_forceStopFlag</div><div class="ttdoc">An internal flag to trigger an end of cycle. </div><div class="ttdef"><b>Definition:</b> <a href="Cycle_8h_source.html#l00177">Cycle.h:177</a></div></div>
<div class="ttc" id="classdqm4hep_1_1online_1_1Cycle_html_a34aaee17f5b45c2972d531c6f01a2429"><div class="ttname"><a href="classdqm4hep_1_1online_1_1Cycle.html#a34aaee17f5b45c2972d531c6f01a2429">dqm4hep::online::Cycle::m_counterLimit</a></div><div class="ttdeci">std::atomic_uint m_counterLimit</div><div class="ttdoc">The user counter limit. </div><div class="ttdef"><b>Definition:</b> <a href="Cycle_8h_source.html#l00189">Cycle.h:189</a></div></div>
<div class="ttc" id="classdqm4hep_1_1online_1_1Cycle_html_ad9ae3dbad17275497815bbec61da555e"><div class="ttname"><a href="classdqm4hep_1_1online_1_1Cycle.html#ad9ae3dbad17275497815bbec61da555e">dqm4hep::online::Cycle::m_lastCounterIncrement</a></div><div class="ttdeci">core::time::point m_lastCounterIncrement</div><div class="ttdoc">The last time point when the increement method was called. </div><div class="ttdef"><b>Definition:</b> <a href="Cycle_8h_source.html#l00195">Cycle.h:195</a></div></div>
<div class="ttc" id="classdqm4hep_1_1online_1_1Cycle_html_aa6af222fa9baec44ff80220b43875486"><div class="ttname"><a href="classdqm4hep_1_1online_1_1Cycle.html#aa6af222fa9baec44ff80220b43875486">dqm4hep::online::Cycle::m_timeout</a></div><div class="ttdeci">std::atomic_uint m_timeout</div><div class="ttdoc">The user timeout value, default 10 (unit seconds) </div><div class="ttdef"><b>Definition:</b> <a href="Cycle_8h_source.html#l00185">Cycle.h:185</a></div></div>
<div class="ttc" id="classdqm4hep_1_1online_1_1Cycle_html_a88c716c80a526f89685f5331eae35f31"><div class="ttname"><a href="classdqm4hep_1_1online_1_1Cycle.html#a88c716c80a526f89685f5331eae35f31">dqm4hep::online::Cycle::m_running</a></div><div class="ttdeci">std::atomic_bool m_running</div><div class="ttdoc">Whether a cycle has been started. </div><div class="ttdef"><b>Definition:</b> <a href="Cycle_8h_source.html#l00173">Cycle.h:173</a></div></div>
<div class="ttc" id="classdqm4hep_1_1online_1_1Cycle_html_ac6ac1e56d1ae906fea1f456d60ee52ad"><div class="ttname"><a href="classdqm4hep_1_1online_1_1Cycle.html#ac6ac1e56d1ae906fea1f456d60ee52ad">dqm4hep::online::Cycle::m_eocEmit</a></div><div class="ttdeci">std::atomic_bool m_eocEmit</div><div class="ttdoc">Whether an event has to be posted on end of cycle. </div><div class="ttdef"><b>Definition:</b> <a href="Cycle_8h_source.html#l00179">Cycle.h:179</a></div></div>
<div class="ttc" id="classdqm4hep_1_1online_1_1Cycle_html_aeef018da0485beadba71021d314d76ca"><div class="ttname"><a href="classdqm4hep_1_1online_1_1Cycle.html#aeef018da0485beadba71021d314d76ca">dqm4hep::online::Cycle::m_currentCounter</a></div><div class="ttdeci">std::atomic_uint m_currentCounter</div><div class="ttdoc">The internal counter incremented by user. </div><div class="ttdef"><b>Definition:</b> <a href="Cycle_8h_source.html#l00191">Cycle.h:191</a></div></div>
<div class="ttc" id="classdqm4hep_1_1online_1_1Cycle_html_a8208ce8b12f5e2b109cb7e544370c3f0"><div class="ttname"><a href="classdqm4hep_1_1online_1_1Cycle.html#a8208ce8b12f5e2b109cb7e544370c3f0">dqm4hep::online::Cycle::endOfCycle</a></div><div class="ttdeci">void endOfCycle(EOCCondition &amp;condition)</div><div class="ttdoc">Called at end of cycle. </div><div class="ttdef"><b>Definition:</b> <a href="Cycle_8cc_source.html#l00188">Cycle.cc:188</a></div></div>
<div class="ttc" id="classdqm4hep_1_1online_1_1Cycle_html_ae7960b9bc65b46f6708f5d8ffa8cf59d"><div class="ttname"><a href="classdqm4hep_1_1online_1_1Cycle.html#ae7960b9bc65b46f6708f5d8ffa8cf59d">dqm4hep::online::Cycle::m_period</a></div><div class="ttdeci">std::atomic_uint m_period</div><div class="ttdoc">The user timer period, default 30 (unit seconds) </div><div class="ttdef"><b>Definition:</b> <a href="Cycle_8h_source.html#l00187">Cycle.h:187</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a8208ce8b12f5e2b109cb7e544370c3f0"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void dqm4hep::online::Cycle::endOfCycle </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structdqm4hep_1_1online_1_1EOCCondition.html">EOCCondition</a> &amp;&#160;</td>
          <td class="paramname"><em>condition</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Called at end of cycle. </p>
<p>Fill the end of cycle conditions and post an event in the event loop</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">condition</td><td>the condition to fill and post </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="Cycle_8cc_source.html#l00188">188</a> of file <a class="el" href="Cycle_8cc_source.html">Cycle.cc</a>.</p>

<p>References <a class="el" href="Logging_8h_source.html#l00026">dqm_debug</a>, <a class="el" href="AppEvent_8h_source.html#l00032">dqm4hep::online::AppEvent::END_OF_CYCLE</a>, <a class="el" href="Cycle_8h_source.html#l00037">dqm4hep::online::EOCCondition::m_counter</a>, <a class="el" href="Cycle_8h_source.html#l00191">m_currentCounter</a>, <a class="el" href="Cycle_8h_source.html#l00033">dqm4hep::online::EOCCondition::m_endTime</a>, <a class="el" href="Cycle_8h_source.html#l00171">m_eventLoop</a>, <a class="el" href="Cycle_8h_source.html#l00193">m_eventPriority</a>, <a class="el" href="Cycle_8h_source.html#l00039">dqm4hep::online::EOCCondition::m_rate</a>, <a class="el" href="Cycle_8h_source.html#l00031">dqm4hep::online::EOCCondition::m_startTime</a>, <a class="el" href="Cycle_8h_source.html#l00035">dqm4hep::online::EOCCondition::m_totalTime</a>, <a class="el" href="Internal_8h_source.html#l00160">dqm4hep::core::time::now()</a>, <a class="el" href="AppEventLoop_8cc_source.html#l00034">dqm4hep::online::AppEventLoop::postEvent()</a>, and <a class="el" href="AppEvent_8cc_source.html#l00037">dqm4hep::online::AppEvent::setPriority()</a>.</p>

<p>Referenced by <a class="el" href="Cycle_8cc_source.html#l00132">cycleLoop()</a>.</p>
<div class="fragment"><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;                                                  {</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;      condition.m_endTime = <a class="code" href="classdqm4hep_1_1core_1_1time.html#a105a9529e7228a1567dfda4b5f083bfc">core::time::now</a>();</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;      condition.m_counter = <a class="code" href="classdqm4hep_1_1online_1_1Cycle.html#aeef018da0485beadba71021d314d76ca">m_currentCounter</a>.load();</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;      condition.m_totalTime = std::chrono::duration_cast&lt;std::chrono::milliseconds&gt;(condition.m_endTime - condition.m_startTime).count() / 1000.f;</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;      condition.m_rate = (condition.m_startTime == condition.m_endTime) ? 0 : (condition.m_counter / condition.m_totalTime);</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;      <a class="code" href="Logging_8h.html#afeed011feb4159b13c3ae4873e1d0fcf">dqm_debug</a>( <span class="stringliteral">&quot;End of cycle !&quot;</span> );</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;      <span class="comment">// post event to event loop</span></div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;      <span class="keyword">auto</span> *<span class="keyword">event</span> = <span class="keyword">new</span> StoreEvent&lt;EOCCondition&gt;(<a class="code" href="classdqm4hep_1_1online_1_1AppEvent.html#aea86dd31000ce2fa55f9d419a6f95ab9a029a11c577767cd4f580a293f29b87bf">AppEvent::END_OF_CYCLE</a>, condition);</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;      <span class="keyword">event</span>-&gt;setPriority(<a class="code" href="classdqm4hep_1_1online_1_1Cycle.html#a99667c53c09ab43f3f47bb1de0878621">m_eventPriority</a>.load());</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;      <a class="code" href="classdqm4hep_1_1online_1_1Cycle.html#a2fb83ec106ac170e4e15b55d89315293">m_eventLoop</a>.<a class="code" href="classdqm4hep_1_1online_1_1AppEventLoop.html#ae2c74f9c28c38a91b8d973f05e062254">postEvent</a>(event);</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;    }</div>
<div class="ttc" id="classdqm4hep_1_1core_1_1time_html_a105a9529e7228a1567dfda4b5f083bfc"><div class="ttname"><a href="classdqm4hep_1_1core_1_1time.html#a105a9529e7228a1567dfda4b5f083bfc">dqm4hep::core::time::now</a></div><div class="ttdeci">static point now()</div><div class="ttdoc">Returns the current time. </div><div class="ttdef"><b>Definition:</b> <a href="Internal_8h_source.html#l00160">Internal.h:160</a></div></div>
<div class="ttc" id="classdqm4hep_1_1online_1_1Cycle_html_a2fb83ec106ac170e4e15b55d89315293"><div class="ttname"><a href="classdqm4hep_1_1online_1_1Cycle.html#a2fb83ec106ac170e4e15b55d89315293">dqm4hep::online::Cycle::m_eventLoop</a></div><div class="ttdeci">AppEventLoop &amp; m_eventLoop</div><div class="ttdoc">The application event loop in which the cycle is running. </div><div class="ttdef"><b>Definition:</b> <a href="Cycle_8h_source.html#l00171">Cycle.h:171</a></div></div>
<div class="ttc" id="classdqm4hep_1_1online_1_1Cycle_html_a99667c53c09ab43f3f47bb1de0878621"><div class="ttname"><a href="classdqm4hep_1_1online_1_1Cycle.html#a99667c53c09ab43f3f47bb1de0878621">dqm4hep::online::Cycle::m_eventPriority</a></div><div class="ttdeci">std::atomic_int m_eventPriority</div><div class="ttdoc">The end of cycle event priority in the event loop. </div><div class="ttdef"><b>Definition:</b> <a href="Cycle_8h_source.html#l00193">Cycle.h:193</a></div></div>
<div class="ttc" id="classdqm4hep_1_1online_1_1AppEventLoop_html_ae2c74f9c28c38a91b8d973f05e062254"><div class="ttname"><a href="classdqm4hep_1_1online_1_1AppEventLoop.html#ae2c74f9c28c38a91b8d973f05e062254">dqm4hep::online::AppEventLoop::postEvent</a></div><div class="ttdeci">void postEvent(AppEvent *pAppEvent)</div><div class="ttdoc">Post an event in the event queue. </div><div class="ttdef"><b>Definition:</b> <a href="AppEventLoop_8cc_source.html#l00034">AppEventLoop.cc:34</a></div></div>
<div class="ttc" id="Logging_8h_html_afeed011feb4159b13c3ae4873e1d0fcf"><div class="ttname"><a href="Logging_8h.html#afeed011feb4159b13c3ae4873e1d0fcf">dqm_debug</a></div><div class="ttdeci">#define dqm_debug(...)</div><div class="ttdef"><b>Definition:</b> <a href="Logging_8h_source.html#l00026">Logging.h:26</a></div></div>
<div class="ttc" id="classdqm4hep_1_1online_1_1Cycle_html_aeef018da0485beadba71021d314d76ca"><div class="ttname"><a href="classdqm4hep_1_1online_1_1Cycle.html#aeef018da0485beadba71021d314d76ca">dqm4hep::online::Cycle::m_currentCounter</a></div><div class="ttdeci">std::atomic_uint m_currentCounter</div><div class="ttdoc">The internal counter incremented by user. </div><div class="ttdef"><b>Definition:</b> <a href="Cycle_8h_source.html#l00191">Cycle.h:191</a></div></div>
<div class="ttc" id="classdqm4hep_1_1online_1_1AppEvent_html_aea86dd31000ce2fa55f9d419a6f95ab9a029a11c577767cd4f580a293f29b87bf"><div class="ttname"><a href="classdqm4hep_1_1online_1_1AppEvent.html#aea86dd31000ce2fa55f9d419a6f95ab9a029a11c577767cd4f580a293f29b87bf">dqm4hep::online::AppEvent::END_OF_CYCLE</a></div><div class="ttdef"><b>Definition:</b> <a href="AppEvent_8h_source.html#l00032">AppEvent.h:32</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a3b03cad9d78a683ea1ead34ed69a98e0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int dqm4hep::online::Cycle::eventPriority </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the EndOfCycleEvent event priority. </p>

<p>Definition at line <a class="el" href="Cycle_8cc_source.html#l00087">87</a> of file <a class="el" href="Cycle_8cc_source.html">Cycle.cc</a>.</p>

<p>References <a class="el" href="Cycle_8h_source.html#l00193">m_eventPriority</a>.</p>
<div class="fragment"><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;                                   {</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classdqm4hep_1_1online_1_1Cycle.html#a99667c53c09ab43f3f47bb1de0878621">m_eventPriority</a>.load();</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;    }</div>
<div class="ttc" id="classdqm4hep_1_1online_1_1Cycle_html_a99667c53c09ab43f3f47bb1de0878621"><div class="ttname"><a href="classdqm4hep_1_1online_1_1Cycle.html#a99667c53c09ab43f3f47bb1de0878621">dqm4hep::online::Cycle::m_eventPriority</a></div><div class="ttdeci">std::atomic_int m_eventPriority</div><div class="ttdoc">The end of cycle event priority in the event loop. </div><div class="ttdef"><b>Definition:</b> <a href="Cycle_8h_source.html#l00193">Cycle.h:193</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a12f0f9a63d57d7e181f8ededcfa9dde7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void dqm4hep::online::Cycle::forceStopCycle </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>waitEnd</em> = <code>true</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>emit</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Stop the current cycle if running. </p>
<p>User can choose whether to emit the end of cyle signal and wait for the end of cycle</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">waitEnd</td><td>whether to wait for status "not running" </td></tr>
    <tr><td class="paramname">emit</td><td>whether to emit the end of cycle signal </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="Cycle_8cc_source.html#l00112">112</a> of file <a class="el" href="Cycle_8cc_source.html">Cycle.cc</a>.</p>

<p>References <a class="el" href="Cycle_8h_source.html#l00179">m_eocEmit</a>, <a class="el" href="Cycle_8h_source.html#l00177">m_forceStopFlag</a>, and <a class="el" href="Cycle_8cc_source.html#l00126">running()</a>.</p>

<p>Referenced by <a class="el" href="ModuleApplication_8cc_source.html#l00571">dqm4hep::online::ModuleApplication::processEndOfRun()</a>, and <a class="el" href="Cycle_8cc_source.html#l00100">startCycle()</a>.</p>
<div class="fragment"><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;                                                      {</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;      <span class="keywordflow">if</span>(<a class="code" href="classdqm4hep_1_1online_1_1Cycle.html#a06b824e9f933cd4eef8596307f55bf4e">running</a>()) {</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;        <a class="code" href="classdqm4hep_1_1online_1_1Cycle.html#ac6ac1e56d1ae906fea1f456d60ee52ad">m_eocEmit</a> = emit;</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;        <a class="code" href="classdqm4hep_1_1online_1_1Cycle.html#ac3584bea3215ebd869ff334d47fdb2d5">m_forceStopFlag</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;        <span class="keywordflow">if</span>(waitEnd) {</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;          <span class="keywordflow">while</span>(<a class="code" href="classdqm4hep_1_1online_1_1Cycle.html#a06b824e9f933cd4eef8596307f55bf4e">running</a>()) {</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;            usleep(1000);</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;          }          </div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;        }</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;      }</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;    }</div>
<div class="ttc" id="classdqm4hep_1_1online_1_1Cycle_html_a06b824e9f933cd4eef8596307f55bf4e"><div class="ttname"><a href="classdqm4hep_1_1online_1_1Cycle.html#a06b824e9f933cd4eef8596307f55bf4e">dqm4hep::online::Cycle::running</a></div><div class="ttdeci">bool running() const </div><div class="ttdoc">Whether the cycle is running. </div><div class="ttdef"><b>Definition:</b> <a href="Cycle_8cc_source.html#l00126">Cycle.cc:126</a></div></div>
<div class="ttc" id="classdqm4hep_1_1online_1_1Cycle_html_ac3584bea3215ebd869ff334d47fdb2d5"><div class="ttname"><a href="classdqm4hep_1_1online_1_1Cycle.html#ac3584bea3215ebd869ff334d47fdb2d5">dqm4hep::online::Cycle::m_forceStopFlag</a></div><div class="ttdeci">std::atomic_bool m_forceStopFlag</div><div class="ttdoc">An internal flag to trigger an end of cycle. </div><div class="ttdef"><b>Definition:</b> <a href="Cycle_8h_source.html#l00177">Cycle.h:177</a></div></div>
<div class="ttc" id="classdqm4hep_1_1online_1_1Cycle_html_ac6ac1e56d1ae906fea1f456d60ee52ad"><div class="ttname"><a href="classdqm4hep_1_1online_1_1Cycle.html#ac6ac1e56d1ae906fea1f456d60ee52ad">dqm4hep::online::Cycle::m_eocEmit</a></div><div class="ttdeci">std::atomic_bool m_eocEmit</div><div class="ttdoc">Whether an event has to be posted on end of cycle. </div><div class="ttdef"><b>Definition:</b> <a href="Cycle_8h_source.html#l00179">Cycle.h:179</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aef76f379a3a4f681d32c5eb544e8f2e2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void dqm4hep::online::Cycle::incrementCounter </td>
          <td>(</td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>increment</em> = <code>1</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Increment the counter by a value. </p>
<p>Default is 1</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">increment</td><td>the increment value </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="Cycle_8cc_source.html#l00093">93</a> of file <a class="el" href="Cycle_8cc_source.html">Cycle.cc</a>.</p>

<p>References <a class="el" href="Cycle_8h_source.html#l00191">m_currentCounter</a>, <a class="el" href="Cycle_8h_source.html#l00195">m_lastCounterIncrement</a>, and <a class="el" href="Internal_8h_source.html#l00160">dqm4hep::core::time::now()</a>.</p>

<p>Referenced by <a class="el" href="ModuleApplication_8cc_source.html#l00136">dqm4hep::online::ModuleApplication::onEvent()</a>.</p>
<div class="fragment"><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;                                                       {</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;      <a class="code" href="classdqm4hep_1_1online_1_1Cycle.html#aeef018da0485beadba71021d314d76ca">m_currentCounter</a> += increment;</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;      <a class="code" href="classdqm4hep_1_1online_1_1Cycle.html#ad9ae3dbad17275497815bbec61da555e">m_lastCounterIncrement</a> = <a class="code" href="classdqm4hep_1_1core_1_1time.html#a105a9529e7228a1567dfda4b5f083bfc">core::time::now</a>();</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;    }</div>
<div class="ttc" id="classdqm4hep_1_1core_1_1time_html_a105a9529e7228a1567dfda4b5f083bfc"><div class="ttname"><a href="classdqm4hep_1_1core_1_1time.html#a105a9529e7228a1567dfda4b5f083bfc">dqm4hep::core::time::now</a></div><div class="ttdeci">static point now()</div><div class="ttdoc">Returns the current time. </div><div class="ttdef"><b>Definition:</b> <a href="Internal_8h_source.html#l00160">Internal.h:160</a></div></div>
<div class="ttc" id="classdqm4hep_1_1online_1_1Cycle_html_ad9ae3dbad17275497815bbec61da555e"><div class="ttname"><a href="classdqm4hep_1_1online_1_1Cycle.html#ad9ae3dbad17275497815bbec61da555e">dqm4hep::online::Cycle::m_lastCounterIncrement</a></div><div class="ttdeci">core::time::point m_lastCounterIncrement</div><div class="ttdoc">The last time point when the increement method was called. </div><div class="ttdef"><b>Definition:</b> <a href="Cycle_8h_source.html#l00195">Cycle.h:195</a></div></div>
<div class="ttc" id="classdqm4hep_1_1online_1_1Cycle_html_aeef018da0485beadba71021d314d76ca"><div class="ttname"><a href="classdqm4hep_1_1online_1_1Cycle.html#aeef018da0485beadba71021d314d76ca">dqm4hep::online::Cycle::m_currentCounter</a></div><div class="ttdeci">std::atomic_uint m_currentCounter</div><div class="ttdoc">The internal counter incremented by user. </div><div class="ttdef"><b>Definition:</b> <a href="Cycle_8h_source.html#l00191">Cycle.h:191</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a06b824e9f933cd4eef8596307f55bf4e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool dqm4hep::online::Cycle::running </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Whether the cycle is running. </p>

<p>Definition at line <a class="el" href="Cycle_8cc_source.html#l00126">126</a> of file <a class="el" href="Cycle_8cc_source.html">Cycle.cc</a>.</p>

<p>References <a class="el" href="Cycle_8h_source.html#l00173">m_running</a>.</p>

<p>Referenced by <a class="el" href="Cycle_8cc_source.html#l00112">forceStopCycle()</a>.</p>
<div class="fragment"><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;                              {</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classdqm4hep_1_1online_1_1Cycle.html#a88c716c80a526f89685f5331eae35f31">m_running</a>.load();</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;    }</div>
<div class="ttc" id="classdqm4hep_1_1online_1_1Cycle_html_a88c716c80a526f89685f5331eae35f31"><div class="ttname"><a href="classdqm4hep_1_1online_1_1Cycle.html#a88c716c80a526f89685f5331eae35f31">dqm4hep::online::Cycle::m_running</a></div><div class="ttdeci">std::atomic_bool m_running</div><div class="ttdoc">Whether a cycle has been started. </div><div class="ttdef"><b>Definition:</b> <a href="Cycle_8h_source.html#l00173">Cycle.h:173</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a3383e80062e314e4d7d6f6a1ad7e1386"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void dqm4hep::online::Cycle::setCounterLimit </td>
          <td>(</td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>value</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the couting limit. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">value</td><td>the couting limit </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="Cycle_8cc_source.html#l00073">73</a> of file <a class="el" href="Cycle_8cc_source.html">Cycle.cc</a>.</p>

<p>References <a class="el" href="Cycle_8h_source.html#l00189">m_counterLimit</a>.</p>

<p>Referenced by <a class="el" href="ModuleApplication_8cc_source.html#l00423">dqm4hep::online::ModuleApplication::configureCycle()</a>.</p>
<div class="fragment"><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;                                                  {</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;      <a class="code" href="classdqm4hep_1_1online_1_1Cycle.html#a34aaee17f5b45c2972d531c6f01a2429">m_counterLimit</a> = value;</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;    }</div>
<div class="ttc" id="classdqm4hep_1_1online_1_1Cycle_html_a34aaee17f5b45c2972d531c6f01a2429"><div class="ttname"><a href="classdqm4hep_1_1online_1_1Cycle.html#a34aaee17f5b45c2972d531c6f01a2429">dqm4hep::online::Cycle::m_counterLimit</a></div><div class="ttdeci">std::atomic_uint m_counterLimit</div><div class="ttdoc">The user counter limit. </div><div class="ttdef"><b>Definition:</b> <a href="Cycle_8h_source.html#l00189">Cycle.h:189</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a2f764a26c152bd7936ac8353ae91bf76"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void dqm4hep::online::Cycle::setEventPriority </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>priority</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the EndOfCycleEvent event priority. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">priority</td><td>the EndOfCycleEvent priority </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="Cycle_8cc_source.html#l00079">79</a> of file <a class="el" href="Cycle_8cc_source.html">Cycle.cc</a>.</p>

<p>References <a class="el" href="Cycle_8h_source.html#l00193">m_eventPriority</a>.</p>

<p>Referenced by <a class="el" href="ModuleApplication_8cc_source.html#l00103">dqm4hep::online::ModuleApplication::onInit()</a>.</p>
<div class="fragment"><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;                                             {</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;      <span class="keywordflow">if</span>(priority &gt;= 0 and priority &lt;= 100) {</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;        <a class="code" href="classdqm4hep_1_1online_1_1Cycle.html#a99667c53c09ab43f3f47bb1de0878621">m_eventPriority</a> = priority;</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;      }</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;    }</div>
<div class="ttc" id="classdqm4hep_1_1online_1_1Cycle_html_a99667c53c09ab43f3f47bb1de0878621"><div class="ttname"><a href="classdqm4hep_1_1online_1_1Cycle.html#a99667c53c09ab43f3f47bb1de0878621">dqm4hep::online::Cycle::m_eventPriority</a></div><div class="ttdeci">std::atomic_int m_eventPriority</div><div class="ttdoc">The end of cycle event priority in the event loop. </div><div class="ttdef"><b>Definition:</b> <a href="Cycle_8h_source.html#l00193">Cycle.h:193</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a1f98f78c53790f6172a9248b59c25fa7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void dqm4hep::online::Cycle::setTimeout </td>
          <td>(</td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>value</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the cycle timeout value (unit seconds) </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">value</td><td>the timeout value in seconds </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="Cycle_8cc_source.html#l00049">49</a> of file <a class="el" href="Cycle_8cc_source.html">Cycle.cc</a>.</p>

<p>References <a class="el" href="Cycle_8h_source.html#l00185">m_timeout</a>.</p>

<p>Referenced by <a class="el" href="ModuleApplication_8cc_source.html#l00423">dqm4hep::online::ModuleApplication::configureCycle()</a>.</p>
<div class="fragment"><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;                                             {</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;      <a class="code" href="classdqm4hep_1_1online_1_1Cycle.html#aa6af222fa9baec44ff80220b43875486">m_timeout</a> = value;</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;    }</div>
<div class="ttc" id="classdqm4hep_1_1online_1_1Cycle_html_aa6af222fa9baec44ff80220b43875486"><div class="ttname"><a href="classdqm4hep_1_1online_1_1Cycle.html#aa6af222fa9baec44ff80220b43875486">dqm4hep::online::Cycle::m_timeout</a></div><div class="ttdeci">std::atomic_uint m_timeout</div><div class="ttdoc">The user timeout value, default 10 (unit seconds) </div><div class="ttdef"><b>Definition:</b> <a href="Cycle_8h_source.html#l00185">Cycle.h:185</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ac14fa8ffa933e8d782ec0a06bcce180e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void dqm4hep::online::Cycle::setTimerPeriod </td>
          <td>(</td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>value</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the cycle timer period value (unit seconds) </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">value</td><td>the period in seconds </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="Cycle_8cc_source.html#l00061">61</a> of file <a class="el" href="Cycle_8cc_source.html">Cycle.cc</a>.</p>

<p>References <a class="el" href="Cycle_8h_source.html#l00187">m_period</a>.</p>

<p>Referenced by <a class="el" href="ModuleApplication_8cc_source.html#l00423">dqm4hep::online::ModuleApplication::configureCycle()</a>.</p>
<div class="fragment"><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;                                                 {</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;      <a class="code" href="classdqm4hep_1_1online_1_1Cycle.html#ae7960b9bc65b46f6708f5d8ffa8cf59d">m_period</a> = value;</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;    }</div>
<div class="ttc" id="classdqm4hep_1_1online_1_1Cycle_html_ae7960b9bc65b46f6708f5d8ffa8cf59d"><div class="ttname"><a href="classdqm4hep_1_1online_1_1Cycle.html#ae7960b9bc65b46f6708f5d8ffa8cf59d">dqm4hep::online::Cycle::m_period</a></div><div class="ttdeci">std::atomic_uint m_period</div><div class="ttdoc">The user timer period, default 30 (unit seconds) </div><div class="ttdef"><b>Definition:</b> <a href="Cycle_8h_source.html#l00187">Cycle.h:187</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a3f05caddee76c84e237f67e76cc2ee3c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void dqm4hep::online::Cycle::startCycle </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>emit</em> = <code>false</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Start a new cycle Stop the current cycle if running. </p>
<p>User can choose whether to emit the end of cyle signal</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">emit</td><td>whether to emit the end of cycle signal </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="Cycle_8cc_source.html#l00100">100</a> of file <a class="el" href="Cycle_8cc_source.html">Cycle.cc</a>.</p>

<p>References <a class="el" href="Logging_8h_source.html#l00026">dqm_debug</a>, <a class="el" href="Logging_8h_source.html#l00028">dqm_error</a>, <a class="el" href="Cycle_8cc_source.html#l00112">forceStopCycle()</a>, <a class="el" href="Cycle_8h_source.html#l00189">m_counterLimit</a>, <a class="el" href="Cycle_8h_source.html#l00187">m_period</a>, <a class="el" href="Cycle_8h_source.html#l00175">m_startCycleFlag</a>, and <a class="el" href="Cycle_8h_source.html#l00185">m_timeout</a>.</p>

<p>Referenced by <a class="el" href="ModuleApplication_8cc_source.html#l00136">dqm4hep::online::ModuleApplication::onEvent()</a>, <a class="el" href="ModuleApplication_8cc_source.html#l00238">dqm4hep::online::ModuleApplication::onStart()</a>, and <a class="el" href="ModuleApplication_8cc_source.html#l00554">dqm4hep::online::ModuleApplication::processStartOfRun()</a>.</p>
<div class="fragment"><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;                                    {</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;      <span class="keywordflow">if</span>(<a class="code" href="classdqm4hep_1_1online_1_1Cycle.html#aa6af222fa9baec44ff80220b43875486">m_timeout</a> &gt;= <a class="code" href="classdqm4hep_1_1online_1_1Cycle.html#ae7960b9bc65b46f6708f5d8ffa8cf59d">m_period</a> || (0 == <a class="code" href="classdqm4hep_1_1online_1_1Cycle.html#a34aaee17f5b45c2972d531c6f01a2429">m_counterLimit</a> &amp;&amp; 0 == <a class="code" href="classdqm4hep_1_1online_1_1Cycle.html#ae7960b9bc65b46f6708f5d8ffa8cf59d">m_period</a>)) {</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;        <a class="code" href="Logging_8h.html#a491803e6943ef6dac7a84b79dd9eaea7">dqm_error</a>(<span class="stringliteral">&quot;Cycle::startCycle: invalid cycle settings (timeout {0}, counter limit {1}, period {2}) !&quot;</span>, <a class="code" href="classdqm4hep_1_1online_1_1Cycle.html#aa6af222fa9baec44ff80220b43875486">m_timeout</a>.load(), <a class="code" href="classdqm4hep_1_1online_1_1Cycle.html#a34aaee17f5b45c2972d531c6f01a2429">m_counterLimit</a>.load(), <a class="code" href="classdqm4hep_1_1online_1_1Cycle.html#ae7960b9bc65b46f6708f5d8ffa8cf59d">m_period</a>.load());</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;        <span class="keywordflow">throw</span> core::StatusCodeException(core::STATUS_CODE_FAILURE);</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;      }</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;      <a class="code" href="classdqm4hep_1_1online_1_1Cycle.html#a12f0f9a63d57d7e181f8ededcfa9dde7">forceStopCycle</a>(<span class="keyword">true</span>, emit);</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;      <a class="code" href="classdqm4hep_1_1online_1_1Cycle.html#a67d2dad968959acfa5380ea50d601007">m_startCycleFlag</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;      <a class="code" href="Logging_8h.html#afeed011feb4159b13c3ae4873e1d0fcf">dqm_debug</a>( <span class="stringliteral">&quot;=====&gt; Started new cycle !&quot;</span> );</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;    }</div>
<div class="ttc" id="classdqm4hep_1_1online_1_1Cycle_html_a67d2dad968959acfa5380ea50d601007"><div class="ttname"><a href="classdqm4hep_1_1online_1_1Cycle.html#a67d2dad968959acfa5380ea50d601007">dqm4hep::online::Cycle::m_startCycleFlag</a></div><div class="ttdeci">std::atomic_bool m_startCycleFlag</div><div class="ttdoc">An internal flag to trigger a new cycle. </div><div class="ttdef"><b>Definition:</b> <a href="Cycle_8h_source.html#l00175">Cycle.h:175</a></div></div>
<div class="ttc" id="classdqm4hep_1_1online_1_1Cycle_html_a34aaee17f5b45c2972d531c6f01a2429"><div class="ttname"><a href="classdqm4hep_1_1online_1_1Cycle.html#a34aaee17f5b45c2972d531c6f01a2429">dqm4hep::online::Cycle::m_counterLimit</a></div><div class="ttdeci">std::atomic_uint m_counterLimit</div><div class="ttdoc">The user counter limit. </div><div class="ttdef"><b>Definition:</b> <a href="Cycle_8h_source.html#l00189">Cycle.h:189</a></div></div>
<div class="ttc" id="Logging_8h_html_afeed011feb4159b13c3ae4873e1d0fcf"><div class="ttname"><a href="Logging_8h.html#afeed011feb4159b13c3ae4873e1d0fcf">dqm_debug</a></div><div class="ttdeci">#define dqm_debug(...)</div><div class="ttdef"><b>Definition:</b> <a href="Logging_8h_source.html#l00026">Logging.h:26</a></div></div>
<div class="ttc" id="classdqm4hep_1_1online_1_1Cycle_html_aa6af222fa9baec44ff80220b43875486"><div class="ttname"><a href="classdqm4hep_1_1online_1_1Cycle.html#aa6af222fa9baec44ff80220b43875486">dqm4hep::online::Cycle::m_timeout</a></div><div class="ttdeci">std::atomic_uint m_timeout</div><div class="ttdoc">The user timeout value, default 10 (unit seconds) </div><div class="ttdef"><b>Definition:</b> <a href="Cycle_8h_source.html#l00185">Cycle.h:185</a></div></div>
<div class="ttc" id="classdqm4hep_1_1online_1_1Cycle_html_a12f0f9a63d57d7e181f8ededcfa9dde7"><div class="ttname"><a href="classdqm4hep_1_1online_1_1Cycle.html#a12f0f9a63d57d7e181f8ededcfa9dde7">dqm4hep::online::Cycle::forceStopCycle</a></div><div class="ttdeci">void forceStopCycle(bool waitEnd=true, bool emit=false)</div><div class="ttdoc">Stop the current cycle if running. </div><div class="ttdef"><b>Definition:</b> <a href="Cycle_8cc_source.html#l00112">Cycle.cc:112</a></div></div>
<div class="ttc" id="Logging_8h_html_a491803e6943ef6dac7a84b79dd9eaea7"><div class="ttname"><a href="Logging_8h.html#a491803e6943ef6dac7a84b79dd9eaea7">dqm_error</a></div><div class="ttdeci">#define dqm_error(...)</div><div class="ttdef"><b>Definition:</b> <a href="Logging_8h_source.html#l00028">Logging.h:28</a></div></div>
<div class="ttc" id="classdqm4hep_1_1online_1_1Cycle_html_ae7960b9bc65b46f6708f5d8ffa8cf59d"><div class="ttname"><a href="classdqm4hep_1_1online_1_1Cycle.html#ae7960b9bc65b46f6708f5d8ffa8cf59d">dqm4hep::online::Cycle::m_period</a></div><div class="ttdeci">std::atomic_uint m_period</div><div class="ttdoc">The user timer period, default 30 (unit seconds) </div><div class="ttdef"><b>Definition:</b> <a href="Cycle_8h_source.html#l00187">Cycle.h:187</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a1aa5df3d4390fbde7d6dafed40ec33b7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int dqm4hep::online::Cycle::timeout </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the timeout value (unit seconds) </p>

<p>Definition at line <a class="el" href="Cycle_8cc_source.html#l00043">43</a> of file <a class="el" href="Cycle_8cc_source.html">Cycle.cc</a>.</p>

<p>References <a class="el" href="Cycle_8h_source.html#l00185">m_timeout</a>.</p>
<div class="fragment"><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;                                      {</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classdqm4hep_1_1online_1_1Cycle.html#aa6af222fa9baec44ff80220b43875486">m_timeout</a>.load();</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;    }</div>
<div class="ttc" id="classdqm4hep_1_1online_1_1Cycle_html_aa6af222fa9baec44ff80220b43875486"><div class="ttname"><a href="classdqm4hep_1_1online_1_1Cycle.html#aa6af222fa9baec44ff80220b43875486">dqm4hep::online::Cycle::m_timeout</a></div><div class="ttdeci">std::atomic_uint m_timeout</div><div class="ttdoc">The user timeout value, default 10 (unit seconds) </div><div class="ttdef"><b>Definition:</b> <a href="Cycle_8h_source.html#l00185">Cycle.h:185</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a5b711f6bbe31b19c97c9cb09e4e6d6a5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int dqm4hep::online::Cycle::timerPeriod </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the timer period value (unit seconds) </p>

<p>Definition at line <a class="el" href="Cycle_8cc_source.html#l00055">55</a> of file <a class="el" href="Cycle_8cc_source.html">Cycle.cc</a>.</p>

<p>References <a class="el" href="Cycle_8h_source.html#l00187">m_period</a>.</p>
<div class="fragment"><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;                                          {</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classdqm4hep_1_1online_1_1Cycle.html#ae7960b9bc65b46f6708f5d8ffa8cf59d">m_period</a>.load();</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;    }</div>
<div class="ttc" id="classdqm4hep_1_1online_1_1Cycle_html_ae7960b9bc65b46f6708f5d8ffa8cf59d"><div class="ttname"><a href="classdqm4hep_1_1online_1_1Cycle.html#ae7960b9bc65b46f6708f5d8ffa8cf59d">dqm4hep::online::Cycle::m_period</a></div><div class="ttdeci">std::atomic_uint m_period</div><div class="ttdoc">The user timer period, default 30 (unit seconds) </div><div class="ttdef"><b>Definition:</b> <a href="Cycle_8h_source.html#l00187">Cycle.h:187</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="a34aaee17f5b45c2972d531c6f01a2429"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::atomic_uint dqm4hep::online::Cycle::m_counterLimit = {0}</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The user counter limit. </p>

<p>Definition at line <a class="el" href="Cycle_8h_source.html#l00189">189</a> of file <a class="el" href="Cycle_8h_source.html">Cycle.h</a>.</p>

<p>Referenced by <a class="el" href="Cycle_8cc_source.html#l00067">counterLimit()</a>, <a class="el" href="Cycle_8cc_source.html#l00132">cycleLoop()</a>, <a class="el" href="Cycle_8cc_source.html#l00073">setCounterLimit()</a>, and <a class="el" href="Cycle_8cc_source.html#l00100">startCycle()</a>.</p>

</div>
</div>
<a class="anchor" id="aeef018da0485beadba71021d314d76ca"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::atomic_uint dqm4hep::online::Cycle::m_currentCounter = {0}</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The internal counter incremented by user. </p>

<p>Definition at line <a class="el" href="Cycle_8h_source.html#l00191">191</a> of file <a class="el" href="Cycle_8h_source.html">Cycle.h</a>.</p>

<p>Referenced by <a class="el" href="Cycle_8cc_source.html#l00132">cycleLoop()</a>, <a class="el" href="Cycle_8cc_source.html#l00188">endOfCycle()</a>, and <a class="el" href="Cycle_8cc_source.html#l00093">incrementCounter()</a>.</p>

</div>
</div>
<a class="anchor" id="ac6ac1e56d1ae906fea1f456d60ee52ad"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::atomic_bool dqm4hep::online::Cycle::m_eocEmit = {true}</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Whether an event has to be posted on end of cycle. </p>

<p>Definition at line <a class="el" href="Cycle_8h_source.html#l00179">179</a> of file <a class="el" href="Cycle_8h_source.html">Cycle.h</a>.</p>

<p>Referenced by <a class="el" href="Cycle_8cc_source.html#l00132">cycleLoop()</a>, and <a class="el" href="Cycle_8cc_source.html#l00112">forceStopCycle()</a>.</p>

</div>
</div>
<a class="anchor" id="a2fb83ec106ac170e4e15b55d89315293"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classdqm4hep_1_1online_1_1AppEventLoop.html">AppEventLoop</a>&amp; dqm4hep::online::Cycle::m_eventLoop</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The application event loop in which the cycle is running. </p>

<p>Definition at line <a class="el" href="Cycle_8h_source.html#l00171">171</a> of file <a class="el" href="Cycle_8h_source.html">Cycle.h</a>.</p>

<p>Referenced by <a class="el" href="Cycle_8cc_source.html#l00188">endOfCycle()</a>.</p>

</div>
</div>
<a class="anchor" id="a99667c53c09ab43f3f47bb1de0878621"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::atomic_int dqm4hep::online::Cycle::m_eventPriority = {60}</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The end of cycle event priority in the event loop. </p>

<p>Definition at line <a class="el" href="Cycle_8h_source.html#l00193">193</a> of file <a class="el" href="Cycle_8h_source.html">Cycle.h</a>.</p>

<p>Referenced by <a class="el" href="Cycle_8cc_source.html#l00188">endOfCycle()</a>, <a class="el" href="Cycle_8cc_source.html#l00087">eventPriority()</a>, and <a class="el" href="Cycle_8cc_source.html#l00079">setEventPriority()</a>.</p>

</div>
</div>
<a class="anchor" id="ac3584bea3215ebd869ff334d47fdb2d5"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::atomic_bool dqm4hep::online::Cycle::m_forceStopFlag = {false}</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>An internal flag to trigger an end of cycle. </p>

<p>Definition at line <a class="el" href="Cycle_8h_source.html#l00177">177</a> of file <a class="el" href="Cycle_8h_source.html">Cycle.h</a>.</p>

<p>Referenced by <a class="el" href="Cycle_8cc_source.html#l00132">cycleLoop()</a>, and <a class="el" href="Cycle_8cc_source.html#l00112">forceStopCycle()</a>.</p>

</div>
</div>
<a class="anchor" id="ad9ae3dbad17275497815bbec61da555e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classdqm4hep_1_1core_1_1time.html#af617bcfd3cf2c8255ddb0b27510cb746">core::time::point</a> dqm4hep::online::Cycle::m_lastCounterIncrement = {}</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The last time point when the increement method was called. </p>

<p>Definition at line <a class="el" href="Cycle_8h_source.html#l00195">195</a> of file <a class="el" href="Cycle_8h_source.html">Cycle.h</a>.</p>

<p>Referenced by <a class="el" href="Cycle_8cc_source.html#l00132">cycleLoop()</a>, and <a class="el" href="Cycle_8cc_source.html#l00093">incrementCounter()</a>.</p>

</div>
</div>
<a class="anchor" id="ae7960b9bc65b46f6708f5d8ffa8cf59d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::atomic_uint dqm4hep::online::Cycle::m_period = {30}</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The user timer period, default 30 (unit seconds) </p>

<p>Definition at line <a class="el" href="Cycle_8h_source.html#l00187">187</a> of file <a class="el" href="Cycle_8h_source.html">Cycle.h</a>.</p>

<p>Referenced by <a class="el" href="Cycle_8cc_source.html#l00132">cycleLoop()</a>, <a class="el" href="Cycle_8cc_source.html#l00061">setTimerPeriod()</a>, <a class="el" href="Cycle_8cc_source.html#l00100">startCycle()</a>, and <a class="el" href="Cycle_8cc_source.html#l00055">timerPeriod()</a>.</p>

</div>
</div>
<a class="anchor" id="a88c716c80a526f89685f5331eae35f31"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::atomic_bool dqm4hep::online::Cycle::m_running = {false}</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Whether a cycle has been started. </p>

<p>Definition at line <a class="el" href="Cycle_8h_source.html#l00173">173</a> of file <a class="el" href="Cycle_8h_source.html">Cycle.h</a>.</p>

<p>Referenced by <a class="el" href="Cycle_8cc_source.html#l00132">cycleLoop()</a>, and <a class="el" href="Cycle_8cc_source.html#l00126">running()</a>.</p>

</div>
</div>
<a class="anchor" id="a67d2dad968959acfa5380ea50d601007"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::atomic_bool dqm4hep::online::Cycle::m_startCycleFlag = {false}</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>An internal flag to trigger a new cycle. </p>

<p>Definition at line <a class="el" href="Cycle_8h_source.html#l00175">175</a> of file <a class="el" href="Cycle_8h_source.html">Cycle.h</a>.</p>

<p>Referenced by <a class="el" href="Cycle_8cc_source.html#l00132">cycleLoop()</a>, and <a class="el" href="Cycle_8cc_source.html#l00100">startCycle()</a>.</p>

</div>
</div>
<a class="anchor" id="a4ebb0f7231bf5e8aaf03d7f8ee93ac21"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::atomic_bool dqm4hep::online::Cycle::m_stopFlag = {false}</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>An internal flag to stop the cycle thread. </p>

<p>Definition at line <a class="el" href="Cycle_8h_source.html#l00181">181</a> of file <a class="el" href="Cycle_8h_source.html">Cycle.h</a>.</p>

<p>Referenced by <a class="el" href="Cycle_8cc_source.html#l00132">cycleLoop()</a>, and <a class="el" href="Cycle_8cc_source.html#l00036">~Cycle()</a>.</p>

</div>
</div>
<a class="anchor" id="a42d4ecf6651b32aaec583a36f155f65e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::thread dqm4hep::online::Cycle::m_thread = {}</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The thread object running the cycle function. </p>

<p>Definition at line <a class="el" href="Cycle_8h_source.html#l00183">183</a> of file <a class="el" href="Cycle_8h_source.html">Cycle.h</a>.</p>

<p>Referenced by <a class="el" href="Cycle_8cc_source.html#l00029">Cycle()</a>, and <a class="el" href="Cycle_8cc_source.html#l00036">~Cycle()</a>.</p>

</div>
</div>
<a class="anchor" id="aa6af222fa9baec44ff80220b43875486"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::atomic_uint dqm4hep::online::Cycle::m_timeout = {10}</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The user timeout value, default 10 (unit seconds) </p>

<p>Definition at line <a class="el" href="Cycle_8h_source.html#l00185">185</a> of file <a class="el" href="Cycle_8h_source.html">Cycle.h</a>.</p>

<p>Referenced by <a class="el" href="Cycle_8cc_source.html#l00132">cycleLoop()</a>, <a class="el" href="Cycle_8cc_source.html#l00049">setTimeout()</a>, <a class="el" href="Cycle_8cc_source.html#l00100">startCycle()</a>, and <a class="el" href="Cycle_8cc_source.html#l00043">timeout()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="Cycle_8h_source.html">Cycle.h</a></li>
<li><a class="el" href="Cycle_8cc_source.html">Cycle.cc</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Thu Aug 23 2018 13:03:38 for DQM4hep by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.6
</small></address>
</body>
</html>
