<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>DQMOnline: dqm4hep::core::DimEventCollector Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">DQMOnline
   &#160;<span id="projectnumber">1.2.3</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacedqm4hep.html">dqm4hep</a></li><li class="navelem"><a class="el" href="namespacedqm4hep_1_1core.html">core</a></li><li class="navelem"><a class="el" href="classdqm4hep_1_1core_1_1DimEventCollector.html">DimEventCollector</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-types">Private Types</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="#friends">Friends</a> &#124;
<a href="classdqm4hep_1_1core_1_1DimEventCollector-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">dqm4hep::core::DimEventCollector Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><a class="el" href="classdqm4hep_1_1core_1_1DimEventCollector.html" title="DimEventCollector class. ">DimEventCollector</a> class.  
 <a href="classdqm4hep_1_1core_1_1DimEventCollector.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="DimEventCollector_8h_source.html">DimEventCollector.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for dqm4hep::core::DimEventCollector:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classdqm4hep_1_1core_1_1DimEventCollector.png" usemap="#dqm4hep::core::DimEventCollector_map" alt=""/>
  <map id="dqm4hep::core::DimEventCollector_map" name="dqm4hep::core::DimEventCollector_map">
<area href="classdqm4hep_1_1core_1_1EventCollectorImp.html" title="EventCollectorImp class. " alt="dqm4hep::core::EventCollectorImp" shape="rect" coords="0,0,204,24"/>
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdqm4hep_1_1core_1_1DimEventCollector_1_1Client.html">Client</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classdqm4hep_1_1core_1_1DimEventCollector_1_1Client.html" title="Client class. ">Client</a> class.  <a href="classdqm4hep_1_1core_1_1DimEventCollector_1_1Client.html#details">More...</a><br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a69270cca7add55a16f3c34ef2c58c63d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdqm4hep_1_1core_1_1DimEventCollector.html#a69270cca7add55a16f3c34ef2c58c63d">DimEventCollector</a> ()</td></tr>
<tr class="memdesc:a69270cca7add55a16f3c34ef2c58c63d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor.  <a href="#a69270cca7add55a16f3c34ef2c58c63d">More...</a><br/></td></tr>
<tr class="separator:a69270cca7add55a16f3c34ef2c58c63d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac68765b316807b9424ec208369dfd38c"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdqm4hep_1_1core_1_1DimEventCollector.html#ac68765b316807b9424ec208369dfd38c">~DimEventCollector</a> ()</td></tr>
<tr class="memdesc:ac68765b316807b9424ec208369dfd38c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destructor.  <a href="#ac68765b316807b9424ec208369dfd38c">More...</a><br/></td></tr>
<tr class="separator:ac68765b316807b9424ec208369dfd38c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1a33220c9ce8fd5231c7f90536983502"><td class="memItemLeft" align="right" valign="top">StatusCode&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdqm4hep_1_1core_1_1DimEventCollector.html#a1a33220c9ce8fd5231c7f90536983502">setCollectorName</a> (const std::string &amp;collectorName)</td></tr>
<tr class="memdesc:a1a33220c9ce8fd5231c7f90536983502"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the collector name.  <a href="#a1a33220c9ce8fd5231c7f90536983502">More...</a><br/></td></tr>
<tr class="separator:a1a33220c9ce8fd5231c7f90536983502"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9fc6f35609ed81a6b4db599ef78578c4"><td class="memItemLeft" align="right" valign="top">const std::string &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdqm4hep_1_1core_1_1DimEventCollector.html#a9fc6f35609ed81a6b4db599ef78578c4">getCollectorName</a> () const </td></tr>
<tr class="memdesc:a9fc6f35609ed81a6b4db599ef78578c4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the collector name.  <a href="#a9fc6f35609ed81a6b4db599ef78578c4">More...</a><br/></td></tr>
<tr class="separator:a9fc6f35609ed81a6b4db599ef78578c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aba7007c11d7b4cc4164a5f2e46af9b51"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdqm4hep_1_1core_1_1DimEventCollector.html#aba7007c11d7b4cc4164a5f2e46af9b51">isRunning</a> () const </td></tr>
<tr class="memdesc:aba7007c11d7b4cc4164a5f2e46af9b51"><td class="mdescLeft">&#160;</td><td class="mdescRight">Whether the collector server is running.  <a href="#aba7007c11d7b4cc4164a5f2e46af9b51">More...</a><br/></td></tr>
<tr class="separator:aba7007c11d7b4cc4164a5f2e46af9b51"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a758829b2281c7dc6d860e6a715355dc1"><td class="memItemLeft" align="right" valign="top">StatusCode&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdqm4hep_1_1core_1_1DimEventCollector.html#a758829b2281c7dc6d860e6a715355dc1">startCollector</a> ()</td></tr>
<tr class="memdesc:a758829b2281c7dc6d860e6a715355dc1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Start the collector server.  <a href="#a758829b2281c7dc6d860e6a715355dc1">More...</a><br/></td></tr>
<tr class="separator:a758829b2281c7dc6d860e6a715355dc1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adda4bfb76c1c1ffefc9e51e3e88d2e53"><td class="memItemLeft" align="right" valign="top">StatusCode&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdqm4hep_1_1core_1_1DimEventCollector.html#adda4bfb76c1c1ffefc9e51e3e88d2e53">stopCollector</a> ()</td></tr>
<tr class="memdesc:adda4bfb76c1c1ffefc9e51e3e88d2e53"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stop the collector server.  <a href="#adda4bfb76c1c1ffefc9e51e3e88d2e53">More...</a><br/></td></tr>
<tr class="separator:adda4bfb76c1c1ffefc9e51e3e88d2e53"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7a99f2971f4bd627386d262c9f8c8b2d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdqm4hep_1_1core_1_1DimEventCollector.html#a7a99f2971f4bd627386d262c9f8c8b2d">setEventStreamer</a> (EventStreamer *pEventStreamer)</td></tr>
<tr class="memdesc:a7a99f2971f4bd627386d262c9f8c8b2d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the event streamer to serialize/deserialize the in/out-coming events.  <a href="#a7a99f2971f4bd627386d262c9f8c8b2d">More...</a><br/></td></tr>
<tr class="separator:a7a99f2971f4bd627386d262c9f8c8b2d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a11aea9f2d3f8b72d9f131f3abd3b2ecd"><td class="memItemLeft" align="right" valign="top">EventStreamer *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdqm4hep_1_1core_1_1DimEventCollector.html#a11aea9f2d3f8b72d9f131f3abd3b2ecd">getEventStreamer</a> () const </td></tr>
<tr class="memdesc:a11aea9f2d3f8b72d9f131f3abd3b2ecd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the event streamer.  <a href="#a11aea9f2d3f8b72d9f131f3abd3b2ecd">More...</a><br/></td></tr>
<tr class="separator:a11aea9f2d3f8b72d9f131f3abd3b2ecd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classdqm4hep_1_1core_1_1EventCollectorImp"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classdqm4hep_1_1core_1_1EventCollectorImp')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classdqm4hep_1_1core_1_1EventCollectorImp.html">dqm4hep::core::EventCollectorImp</a></td></tr>
<tr class="memitem:a3c23b6997f76f8754492208a324f6d92 inherit pub_methods_classdqm4hep_1_1core_1_1EventCollectorImp"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdqm4hep_1_1core_1_1EventCollectorImp.html#a3c23b6997f76f8754492208a324f6d92">~EventCollectorImp</a> ()</td></tr>
<tr class="memdesc:a3c23b6997f76f8754492208a324f6d92 inherit pub_methods_classdqm4hep_1_1core_1_1EventCollectorImp"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destructor.  <a href="#a3c23b6997f76f8754492208a324f6d92">More...</a><br/></td></tr>
<tr class="separator:a3c23b6997f76f8754492208a324f6d92 inherit pub_methods_classdqm4hep_1_1core_1_1EventCollectorImp"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-types"></a>
Private Types</h2></td></tr>
<tr class="memitem:ae08784eb8859423c7d2a0c94d1648bce"><td class="memItemLeft" align="right" valign="top">typedef std::map&lt; int, <a class="el" href="classdqm4hep_1_1core_1_1DimEventCollector_1_1Client.html">Client</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdqm4hep_1_1core_1_1DimEventCollector.html#ae08784eb8859423c7d2a0c94d1648bce">ClientMap</a></td></tr>
<tr class="separator:ae08784eb8859423c7d2a0c94d1648bce"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a22f73e4f3d4ed8e893268c269a4d2321"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdqm4hep_1_1core_1_1DimEventCollector.html#a22f73e4f3d4ed8e893268c269a4d2321">commandHandler</a> ()</td></tr>
<tr class="memdesc:a22f73e4f3d4ed8e893268c269a4d2321"><td class="mdescLeft">&#160;</td><td class="mdescRight">Dim command handler.  <a href="#a22f73e4f3d4ed8e893268c269a4d2321">More...</a><br/></td></tr>
<tr class="separator:a22f73e4f3d4ed8e893268c269a4d2321"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab582df423d6021ddcbf071c6df6ff0cd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdqm4hep_1_1core_1_1DimEventCollector.html#ab582df423d6021ddcbf071c6df6ff0cd">clientExitHandler</a> ()</td></tr>
<tr class="memdesc:ab582df423d6021ddcbf071c6df6ff0cd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Dim client exit handler.  <a href="#ab582df423d6021ddcbf071c6df6ff0cd">More...</a><br/></td></tr>
<tr class="separator:ab582df423d6021ddcbf071c6df6ff0cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a87fe5d084b2fcf55e905b34b4e7d1c13"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdqm4hep_1_1core_1_1DimEventCollector.html#a87fe5d084b2fcf55e905b34b4e7d1c13">handleEventReception</a> (DimCommand *pDimCommand)</td></tr>
<tr class="separator:a87fe5d084b2fcf55e905b34b4e7d1c13"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a52a0578469fc4d8d7f4abf78243ae887"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdqm4hep_1_1core_1_1DimEventCollector.html#a52a0578469fc4d8d7f4abf78243ae887">handleEventRequest</a> (<a class="el" href="classdqm4hep_1_1core_1_1DimEventRequestRpc.html">DimEventRequestRpc</a> *pDimRpc)</td></tr>
<tr class="separator:a52a0578469fc4d8d7f4abf78243ae887"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acd2f56555479152d1043f213270d7653"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classdqm4hep_1_1core_1_1DimEventCollector_1_1Client.html">Client</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdqm4hep_1_1core_1_1DimEventCollector.html#acd2f56555479152d1043f213270d7653">getClient</a> (int clientId)</td></tr>
<tr class="memdesc:acd2f56555479152d1043f213270d7653"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get a client by id.  <a href="#acd2f56555479152d1043f213270d7653">More...</a><br/></td></tr>
<tr class="separator:acd2f56555479152d1043f213270d7653"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1740237d5381c3f29238496b2190e815"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdqm4hep_1_1core_1_1DimEventCollector.html#a1740237d5381c3f29238496b2190e815">updateEventService</a> ()</td></tr>
<tr class="memdesc:a1740237d5381c3f29238496b2190e815"><td class="mdescLeft">&#160;</td><td class="mdescRight">Update the event service for clients that have specified an update mode.  <a href="#a1740237d5381c3f29238496b2190e815">More...</a><br/></td></tr>
<tr class="separator:a1740237d5381c3f29238496b2190e815"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2c7ba6cb621e7315baf8ad3e0f02f117"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdqm4hep_1_1core_1_1DimEventCollector.html#a2c7ba6cb621e7315baf8ad3e0f02f117">removeClient</a> (int clientId)</td></tr>
<tr class="memdesc:a2c7ba6cb621e7315baf8ad3e0f02f117"><td class="mdescLeft">&#160;</td><td class="mdescRight">Remove a client from the map.  <a href="#a2c7ba6cb621e7315baf8ad3e0f02f117">More...</a><br/></td></tr>
<tr class="separator:a2c7ba6cb621e7315baf8ad3e0f02f117"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2300d37249b1ed651ff330bc0375926d"><td class="memItemLeft" align="right" valign="top">xdrstream::BufferDevice *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdqm4hep_1_1core_1_1DimEventCollector.html#a2300d37249b1ed651ff330bc0375926d">configureBuffer</a> (char *pBuffer, xdrstream::xdr_size_t bufferSize)</td></tr>
<tr class="memdesc:a2300d37249b1ed651ff330bc0375926d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Configure the buffer.  <a href="#a2300d37249b1ed651ff330bc0375926d">More...</a><br/></td></tr>
<tr class="separator:a2300d37249b1ed651ff330bc0375926d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:abc48b7dafa4f285ccf9b8e5e41e8e4be"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdqm4hep_1_1core_1_1DimEventCollector.html#abc48b7dafa4f285ccf9b8e5e41e8e4be">m_collectorName</a></td></tr>
<tr class="separator:abc48b7dafa4f285ccf9b8e5e41e8e4be"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a16c4e57f4d9c25086612b6a5186a1c46"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdqm4hep_1_1core_1_1DimEventCollector.html#a16c4e57f4d9c25086612b6a5186a1c46">m_isRunning</a></td></tr>
<tr class="separator:a16c4e57f4d9c25086612b6a5186a1c46"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8e7cae4f41dfc624e6ddccb5cb3b16d3"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdqm4hep_1_1core_1_1DimEventCollector.html#a8e7cae4f41dfc624e6ddccb5cb3b16d3">m_state</a></td></tr>
<tr class="separator:a8e7cae4f41dfc624e6ddccb5cb3b16d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a101ace256f7a25a2b9c06cfd2b084ba8"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdqm4hep_1_1core_1_1DimEventCollector.html#a101ace256f7a25a2b9c06cfd2b084ba8">m_clientRegisteredId</a></td></tr>
<tr class="separator:a101ace256f7a25a2b9c06cfd2b084ba8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab861d1f83703b274c90d5f501e9d7f5e"><td class="memItemLeft" align="right" valign="top">DimService *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdqm4hep_1_1core_1_1DimEventCollector.html#ab861d1f83703b274c90d5f501e9d7f5e">m_pServerStateService</a></td></tr>
<tr class="separator:ab861d1f83703b274c90d5f501e9d7f5e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac788ba401e7ee0096ae16b0c078c1290"><td class="memItemLeft" align="right" valign="top">DimService *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdqm4hep_1_1core_1_1DimEventCollector.html#ac788ba401e7ee0096ae16b0c078c1290">m_pClientRegisteredService</a></td></tr>
<tr class="separator:ac788ba401e7ee0096ae16b0c078c1290"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9a777dd4dd235f1572eb012d32f39ddb"><td class="memItemLeft" align="right" valign="top">DimService *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdqm4hep_1_1core_1_1DimEventCollector.html#a9a777dd4dd235f1572eb012d32f39ddb">m_pEventUpdateService</a></td></tr>
<tr class="separator:a9a777dd4dd235f1572eb012d32f39ddb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7d39789cdf38a172510219865bf8e0a6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classdqm4hep_1_1core_1_1StatisticsService.html">StatisticsService</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdqm4hep_1_1core_1_1DimEventCollector.html#a7d39789cdf38a172510219865bf8e0a6">m_pStatisticsService</a></td></tr>
<tr class="separator:a7d39789cdf38a172510219865bf8e0a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8a2da41608271528e331f89ca18021b3"><td class="memItemLeft" align="right" valign="top">DimCommand *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdqm4hep_1_1core_1_1DimEventCollector.html#a8a2da41608271528e331f89ca18021b3">m_pCollectEventCommand</a></td></tr>
<tr class="separator:a8a2da41608271528e331f89ca18021b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1c68397e475187d5bc4c59842c3e8aaa"><td class="memItemLeft" align="right" valign="top">DimCommand *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdqm4hep_1_1core_1_1DimEventCollector.html#a1c68397e475187d5bc4c59842c3e8aaa">m_pUpdateModeCommand</a></td></tr>
<tr class="separator:a1c68397e475187d5bc4c59842c3e8aaa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a162c2283c2ac96285725a97dc499105f"><td class="memItemLeft" align="right" valign="top">DimCommand *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdqm4hep_1_1core_1_1DimEventCollector.html#a162c2283c2ac96285725a97dc499105f">m_pSubEventIdentifierCommand</a></td></tr>
<tr class="separator:a162c2283c2ac96285725a97dc499105f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7048327696e75a9ec0556ff0687432e7"><td class="memItemLeft" align="right" valign="top">DimCommand *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdqm4hep_1_1core_1_1DimEventCollector.html#a7048327696e75a9ec0556ff0687432e7">m_pClientRegitrationCommand</a></td></tr>
<tr class="separator:a7048327696e75a9ec0556ff0687432e7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aecac8f22ff965f37f2e652623198a327"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classdqm4hep_1_1core_1_1DimEventRequestRpc.html">DimEventRequestRpc</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdqm4hep_1_1core_1_1DimEventCollector.html#aecac8f22ff965f37f2e652623198a327">m_pEventRequestRpc</a></td></tr>
<tr class="separator:aecac8f22ff965f37f2e652623198a327"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a96fe309d91f27a426b793e75126fbe41"><td class="memItemLeft" align="right" valign="top">xdrstream::BufferDevice *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdqm4hep_1_1core_1_1DimEventCollector.html#a96fe309d91f27a426b793e75126fbe41">m_pBuffer</a></td></tr>
<tr class="separator:a96fe309d91f27a426b793e75126fbe41"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a867891d8d31779f629177c3e9f495717"><td class="memItemLeft" align="right" valign="top">xdrstream::BufferDevice *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdqm4hep_1_1core_1_1DimEventCollector.html#a867891d8d31779f629177c3e9f495717">m_pSubEventBuffer</a></td></tr>
<tr class="separator:a867891d8d31779f629177c3e9f495717"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a86309d90d1fead2c67bf5e948defd04d"><td class="memItemLeft" align="right" valign="top">EventStreamer *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdqm4hep_1_1core_1_1DimEventCollector.html#a86309d90d1fead2c67bf5e948defd04d">m_pEventStreamer</a></td></tr>
<tr class="separator:a86309d90d1fead2c67bf5e948defd04d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af1b8393fcdda3bf83d8121b88237157f"><td class="memItemLeft" align="right" valign="top">Event *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdqm4hep_1_1core_1_1DimEventCollector.html#af1b8393fcdda3bf83d8121b88237157f">m_pCurrentEvent</a></td></tr>
<tr class="separator:af1b8393fcdda3bf83d8121b88237157f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aadf5d9562301fb398cb7448464191984"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classdqm4hep_1_1core_1_1DimEventCollector.html#ae08784eb8859423c7d2a0c94d1648bce">ClientMap</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdqm4hep_1_1core_1_1DimEventCollector.html#aadf5d9562301fb398cb7448464191984">m_clientMap</a></td></tr>
<tr class="separator:aadf5d9562301fb398cb7448464191984"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="friends"></a>
Friends</h2></td></tr>
<tr class="memitem:a7dbda6d040967bb25c83b2ad81640826"><td class="memItemLeft" align="right" valign="top">class&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdqm4hep_1_1core_1_1DimEventCollector.html#a7dbda6d040967bb25c83b2ad81640826">DimEventRequestRpc</a></td></tr>
<tr class="separator:a7dbda6d040967bb25c83b2ad81640826"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p><a class="el" href="classdqm4hep_1_1core_1_1DimEventCollector.html" title="DimEventCollector class. ">DimEventCollector</a> class. </p>

<p>Definition at line <a class="el" href="DimEventCollector_8h_source.html#l00070">70</a> of file <a class="el" href="DimEventCollector_8h_source.html">DimEventCollector.h</a>.</p>
</div><h2 class="groupheader">Member Typedef Documentation</h2>
<a class="anchor" id="ae08784eb8859423c7d2a0c94d1648bce"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">typedef std::map&lt;int, <a class="el" href="classdqm4hep_1_1core_1_1DimEventCollector_1_1Client.html">Client</a>&gt; <a class="el" href="classdqm4hep_1_1core_1_1DimEventCollector.html#ae08784eb8859423c7d2a0c94d1648bce">dqm4hep::core::DimEventCollector::ClientMap</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="DimEventCollector_8h_source.html#l00162">162</a> of file <a class="el" href="DimEventCollector_8h_source.html">DimEventCollector.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a69270cca7add55a16f3c34ef2c58c63d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">dqm4hep::core::DimEventCollector::DimEventCollector </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Constructor. </p>

<p>Definition at line <a class="el" href="DimEventCollector_8cc_source.html#l00058">58</a> of file <a class="el" href="DimEventCollector_8cc_source.html">DimEventCollector.cc</a>.</p>

<p>References <a class="el" href="DimEventCollector_8h_source.html#l00185">m_pSubEventBuffer</a>.</p>
<div class="fragment"><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;                                         :</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;        <a class="code" href="classdqm4hep_1_1core_1_1DimEventCollector.html#abc48b7dafa4f285ccf9b8e5e41e8e4be">m_collectorName</a>(<span class="stringliteral">&quot;DEFAULT&quot;</span>),</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;        <a class="code" href="classdqm4hep_1_1core_1_1DimEventCollector.html#a16c4e57f4d9c25086612b6a5186a1c46">m_isRunning</a>(<span class="keyword">false</span>),</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;        <a class="code" href="classdqm4hep_1_1core_1_1DimEventCollector.html#a8a2da41608271528e331f89ca18021b3">m_pCollectEventCommand</a>(NULL),</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;        <a class="code" href="classdqm4hep_1_1core_1_1DimEventCollector.html#aecac8f22ff965f37f2e652623198a327">m_pEventRequestRpc</a>(NULL),</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;        <a class="code" href="classdqm4hep_1_1core_1_1DimEventCollector.html#a1c68397e475187d5bc4c59842c3e8aaa">m_pUpdateModeCommand</a>(NULL),</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;        <a class="code" href="classdqm4hep_1_1core_1_1DimEventCollector.html#a9a777dd4dd235f1572eb012d32f39ddb">m_pEventUpdateService</a>(NULL),</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;        <a class="code" href="classdqm4hep_1_1core_1_1DimEventCollector.html#a86309d90d1fead2c67bf5e948defd04d">m_pEventStreamer</a>(NULL),</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;        <a class="code" href="classdqm4hep_1_1core_1_1DimEventCollector.html#af1b8393fcdda3bf83d8121b88237157f">m_pCurrentEvent</a>(NULL),</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;        <a class="code" href="classdqm4hep_1_1core_1_1DimEventCollector.html#a8e7cae4f41dfc624e6ddccb5cb3b16d3">m_state</a>(0),</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;        <a class="code" href="classdqm4hep_1_1core_1_1DimEventCollector.html#a101ace256f7a25a2b9c06cfd2b084ba8">m_clientRegisteredId</a>(0),</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;        <a class="code" href="classdqm4hep_1_1core_1_1DimEventCollector.html#a96fe309d91f27a426b793e75126fbe41">m_pBuffer</a>(0),</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;        <a class="code" href="classdqm4hep_1_1core_1_1DimEventCollector.html#a867891d8d31779f629177c3e9f495717">m_pSubEventBuffer</a>(0)</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;    {</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;      DimServer::addClientExitHandler(<span class="keyword">this</span>);</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;      <span class="comment">// write only buffer with an initial size of 4 Mo (should be enough to start)</span></div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;      <a class="code" href="classdqm4hep_1_1core_1_1DimEventCollector.html#a867891d8d31779f629177c3e9f495717">m_pSubEventBuffer</a> = <span class="keyword">new</span> xdrstream::BufferDevice(4*1024*1024);</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;    }</div>
<div class="ttc" id="classdqm4hep_1_1core_1_1DimEventCollector_html_a867891d8d31779f629177c3e9f495717"><div class="ttname"><a href="classdqm4hep_1_1core_1_1DimEventCollector.html#a867891d8d31779f629177c3e9f495717">dqm4hep::core::DimEventCollector::m_pSubEventBuffer</a></div><div class="ttdeci">xdrstream::BufferDevice * m_pSubEventBuffer</div><div class="ttdef"><b>Definition:</b> <a href="DimEventCollector_8h_source.html#l00185">DimEventCollector.h:185</a></div></div>
<div class="ttc" id="classdqm4hep_1_1core_1_1DimEventCollector_html_a86309d90d1fead2c67bf5e948defd04d"><div class="ttname"><a href="classdqm4hep_1_1core_1_1DimEventCollector.html#a86309d90d1fead2c67bf5e948defd04d">dqm4hep::core::DimEventCollector::m_pEventStreamer</a></div><div class="ttdeci">EventStreamer * m_pEventStreamer</div><div class="ttdef"><b>Definition:</b> <a href="DimEventCollector_8h_source.html#l00187">DimEventCollector.h:187</a></div></div>
<div class="ttc" id="classdqm4hep_1_1core_1_1DimEventCollector_html_a9a777dd4dd235f1572eb012d32f39ddb"><div class="ttname"><a href="classdqm4hep_1_1core_1_1DimEventCollector.html#a9a777dd4dd235f1572eb012d32f39ddb">dqm4hep::core::DimEventCollector::m_pEventUpdateService</a></div><div class="ttdeci">DimService * m_pEventUpdateService</div><div class="ttdef"><b>Definition:</b> <a href="DimEventCollector_8h_source.html#l00172">DimEventCollector.h:172</a></div></div>
<div class="ttc" id="classdqm4hep_1_1core_1_1DimEventCollector_html_a1c68397e475187d5bc4c59842c3e8aaa"><div class="ttname"><a href="classdqm4hep_1_1core_1_1DimEventCollector.html#a1c68397e475187d5bc4c59842c3e8aaa">dqm4hep::core::DimEventCollector::m_pUpdateModeCommand</a></div><div class="ttdeci">DimCommand * m_pUpdateModeCommand</div><div class="ttdef"><b>Definition:</b> <a href="DimEventCollector_8h_source.html#l00177">DimEventCollector.h:177</a></div></div>
<div class="ttc" id="classdqm4hep_1_1core_1_1DimEventCollector_html_a16c4e57f4d9c25086612b6a5186a1c46"><div class="ttname"><a href="classdqm4hep_1_1core_1_1DimEventCollector.html#a16c4e57f4d9c25086612b6a5186a1c46">dqm4hep::core::DimEventCollector::m_isRunning</a></div><div class="ttdeci">bool m_isRunning</div><div class="ttdef"><b>Definition:</b> <a href="DimEventCollector_8h_source.html#l00165">DimEventCollector.h:165</a></div></div>
<div class="ttc" id="classdqm4hep_1_1core_1_1DimEventCollector_html_a8a2da41608271528e331f89ca18021b3"><div class="ttname"><a href="classdqm4hep_1_1core_1_1DimEventCollector.html#a8a2da41608271528e331f89ca18021b3">dqm4hep::core::DimEventCollector::m_pCollectEventCommand</a></div><div class="ttdeci">DimCommand * m_pCollectEventCommand</div><div class="ttdef"><b>Definition:</b> <a href="DimEventCollector_8h_source.html#l00176">DimEventCollector.h:176</a></div></div>
<div class="ttc" id="classdqm4hep_1_1core_1_1DimEventCollector_html_a8e7cae4f41dfc624e6ddccb5cb3b16d3"><div class="ttname"><a href="classdqm4hep_1_1core_1_1DimEventCollector.html#a8e7cae4f41dfc624e6ddccb5cb3b16d3">dqm4hep::core::DimEventCollector::m_state</a></div><div class="ttdeci">int m_state</div><div class="ttdef"><b>Definition:</b> <a href="DimEventCollector_8h_source.html#l00166">DimEventCollector.h:166</a></div></div>
<div class="ttc" id="classdqm4hep_1_1core_1_1DimEventCollector_html_a101ace256f7a25a2b9c06cfd2b084ba8"><div class="ttname"><a href="classdqm4hep_1_1core_1_1DimEventCollector.html#a101ace256f7a25a2b9c06cfd2b084ba8">dqm4hep::core::DimEventCollector::m_clientRegisteredId</a></div><div class="ttdeci">int m_clientRegisteredId</div><div class="ttdef"><b>Definition:</b> <a href="DimEventCollector_8h_source.html#l00167">DimEventCollector.h:167</a></div></div>
<div class="ttc" id="classdqm4hep_1_1core_1_1DimEventCollector_html_af1b8393fcdda3bf83d8121b88237157f"><div class="ttname"><a href="classdqm4hep_1_1core_1_1DimEventCollector.html#af1b8393fcdda3bf83d8121b88237157f">dqm4hep::core::DimEventCollector::m_pCurrentEvent</a></div><div class="ttdeci">Event * m_pCurrentEvent</div><div class="ttdef"><b>Definition:</b> <a href="DimEventCollector_8h_source.html#l00188">DimEventCollector.h:188</a></div></div>
<div class="ttc" id="classdqm4hep_1_1core_1_1DimEventCollector_html_a96fe309d91f27a426b793e75126fbe41"><div class="ttname"><a href="classdqm4hep_1_1core_1_1DimEventCollector.html#a96fe309d91f27a426b793e75126fbe41">dqm4hep::core::DimEventCollector::m_pBuffer</a></div><div class="ttdeci">xdrstream::BufferDevice * m_pBuffer</div><div class="ttdef"><b>Definition:</b> <a href="DimEventCollector_8h_source.html#l00184">DimEventCollector.h:184</a></div></div>
<div class="ttc" id="classdqm4hep_1_1core_1_1DimEventCollector_html_abc48b7dafa4f285ccf9b8e5e41e8e4be"><div class="ttname"><a href="classdqm4hep_1_1core_1_1DimEventCollector.html#abc48b7dafa4f285ccf9b8e5e41e8e4be">dqm4hep::core::DimEventCollector::m_collectorName</a></div><div class="ttdeci">std::string m_collectorName</div><div class="ttdef"><b>Definition:</b> <a href="DimEventCollector_8h_source.html#l00164">DimEventCollector.h:164</a></div></div>
<div class="ttc" id="classdqm4hep_1_1core_1_1DimEventCollector_html_aecac8f22ff965f37f2e652623198a327"><div class="ttname"><a href="classdqm4hep_1_1core_1_1DimEventCollector.html#aecac8f22ff965f37f2e652623198a327">dqm4hep::core::DimEventCollector::m_pEventRequestRpc</a></div><div class="ttdeci">DimEventRequestRpc * m_pEventRequestRpc</div><div class="ttdef"><b>Definition:</b> <a href="DimEventCollector_8h_source.html#l00182">DimEventCollector.h:182</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ac68765b316807b9424ec208369dfd38c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">dqm4hep::core::DimEventCollector::~DimEventCollector </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Destructor. </p>

<p>Definition at line <a class="el" href="DimEventCollector_8cc_source.html#l00080">80</a> of file <a class="el" href="DimEventCollector_8cc_source.html">DimEventCollector.cc</a>.</p>

<p>References <a class="el" href="DimEventCollector_8cc_source.html#l00118">isRunning()</a>, <a class="el" href="DimEventCollector_8h_source.html#l00184">m_pBuffer</a>, <a class="el" href="DimEventCollector_8h_source.html#l00188">m_pCurrentEvent</a>, <a class="el" href="DimEventCollector_8h_source.html#l00187">m_pEventStreamer</a>, <a class="el" href="DimEventCollector_8h_source.html#l00185">m_pSubEventBuffer</a>, and <a class="el" href="DimEventCollector_8cc_source.html#l00162">stopCollector()</a>.</p>
<div class="fragment"><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;    {</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;      <span class="keywordflow">if</span>(<a class="code" href="classdqm4hep_1_1core_1_1DimEventCollector.html#aba7007c11d7b4cc4164a5f2e46af9b51">isRunning</a>())</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;        <a class="code" href="classdqm4hep_1_1core_1_1DimEventCollector.html#adda4bfb76c1c1ffefc9e51e3e88d2e53">stopCollector</a>();</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;      <span class="keywordflow">if</span>(<a class="code" href="classdqm4hep_1_1core_1_1DimEventCollector.html#a86309d90d1fead2c67bf5e948defd04d">m_pEventStreamer</a>)</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;        <span class="keyword">delete</span> <a class="code" href="classdqm4hep_1_1core_1_1DimEventCollector.html#a86309d90d1fead2c67bf5e948defd04d">m_pEventStreamer</a>;</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;      <span class="keywordflow">if</span>(<a class="code" href="classdqm4hep_1_1core_1_1DimEventCollector.html#af1b8393fcdda3bf83d8121b88237157f">m_pCurrentEvent</a>)</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;        <span class="keyword">delete</span> <a class="code" href="classdqm4hep_1_1core_1_1DimEventCollector.html#af1b8393fcdda3bf83d8121b88237157f">m_pCurrentEvent</a>;</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;      <span class="keywordflow">if</span>(<a class="code" href="classdqm4hep_1_1core_1_1DimEventCollector.html#a96fe309d91f27a426b793e75126fbe41">m_pBuffer</a>)</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;        <span class="keyword">delete</span> <a class="code" href="classdqm4hep_1_1core_1_1DimEventCollector.html#a96fe309d91f27a426b793e75126fbe41">m_pBuffer</a>;</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;      <span class="keyword">delete</span> <a class="code" href="classdqm4hep_1_1core_1_1DimEventCollector.html#a867891d8d31779f629177c3e9f495717">m_pSubEventBuffer</a>;</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;    }</div>
<div class="ttc" id="classdqm4hep_1_1core_1_1DimEventCollector_html_aba7007c11d7b4cc4164a5f2e46af9b51"><div class="ttname"><a href="classdqm4hep_1_1core_1_1DimEventCollector.html#aba7007c11d7b4cc4164a5f2e46af9b51">dqm4hep::core::DimEventCollector::isRunning</a></div><div class="ttdeci">bool isRunning() const </div><div class="ttdoc">Whether the collector server is running. </div><div class="ttdef"><b>Definition:</b> <a href="DimEventCollector_8cc_source.html#l00118">DimEventCollector.cc:118</a></div></div>
<div class="ttc" id="classdqm4hep_1_1core_1_1DimEventCollector_html_a867891d8d31779f629177c3e9f495717"><div class="ttname"><a href="classdqm4hep_1_1core_1_1DimEventCollector.html#a867891d8d31779f629177c3e9f495717">dqm4hep::core::DimEventCollector::m_pSubEventBuffer</a></div><div class="ttdeci">xdrstream::BufferDevice * m_pSubEventBuffer</div><div class="ttdef"><b>Definition:</b> <a href="DimEventCollector_8h_source.html#l00185">DimEventCollector.h:185</a></div></div>
<div class="ttc" id="classdqm4hep_1_1core_1_1DimEventCollector_html_a86309d90d1fead2c67bf5e948defd04d"><div class="ttname"><a href="classdqm4hep_1_1core_1_1DimEventCollector.html#a86309d90d1fead2c67bf5e948defd04d">dqm4hep::core::DimEventCollector::m_pEventStreamer</a></div><div class="ttdeci">EventStreamer * m_pEventStreamer</div><div class="ttdef"><b>Definition:</b> <a href="DimEventCollector_8h_source.html#l00187">DimEventCollector.h:187</a></div></div>
<div class="ttc" id="classdqm4hep_1_1core_1_1DimEventCollector_html_adda4bfb76c1c1ffefc9e51e3e88d2e53"><div class="ttname"><a href="classdqm4hep_1_1core_1_1DimEventCollector.html#adda4bfb76c1c1ffefc9e51e3e88d2e53">dqm4hep::core::DimEventCollector::stopCollector</a></div><div class="ttdeci">StatusCode stopCollector()</div><div class="ttdoc">Stop the collector server. </div><div class="ttdef"><b>Definition:</b> <a href="DimEventCollector_8cc_source.html#l00162">DimEventCollector.cc:162</a></div></div>
<div class="ttc" id="classdqm4hep_1_1core_1_1DimEventCollector_html_af1b8393fcdda3bf83d8121b88237157f"><div class="ttname"><a href="classdqm4hep_1_1core_1_1DimEventCollector.html#af1b8393fcdda3bf83d8121b88237157f">dqm4hep::core::DimEventCollector::m_pCurrentEvent</a></div><div class="ttdeci">Event * m_pCurrentEvent</div><div class="ttdef"><b>Definition:</b> <a href="DimEventCollector_8h_source.html#l00188">DimEventCollector.h:188</a></div></div>
<div class="ttc" id="classdqm4hep_1_1core_1_1DimEventCollector_html_a96fe309d91f27a426b793e75126fbe41"><div class="ttname"><a href="classdqm4hep_1_1core_1_1DimEventCollector.html#a96fe309d91f27a426b793e75126fbe41">dqm4hep::core::DimEventCollector::m_pBuffer</a></div><div class="ttdeci">xdrstream::BufferDevice * m_pBuffer</div><div class="ttdef"><b>Definition:</b> <a href="DimEventCollector_8h_source.html#l00184">DimEventCollector.h:184</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="ab582df423d6021ddcbf071c6df6ff0cd"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void dqm4hep::core::DimEventCollector::clientExitHandler </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Dim client exit handler. </p>

<p>Definition at line <a class="el" href="DimEventCollector_8cc_source.html#l00380">380</a> of file <a class="el" href="DimEventCollector_8cc_source.html">DimEventCollector.cc</a>.</p>

<p>References <a class="el" href="DimEventCollector_8cc_source.html#l00468">removeClient()</a>.</p>
<div class="fragment"><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;    {</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;      this-&gt;<a class="code" href="classdqm4hep_1_1core_1_1DimEventCollector.html#a2c7ba6cb621e7315baf8ad3e0f02f117">removeClient</a>(getClientId());</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;    }</div>
<div class="ttc" id="classdqm4hep_1_1core_1_1DimEventCollector_html_a2c7ba6cb621e7315baf8ad3e0f02f117"><div class="ttname"><a href="classdqm4hep_1_1core_1_1DimEventCollector.html#a2c7ba6cb621e7315baf8ad3e0f02f117">dqm4hep::core::DimEventCollector::removeClient</a></div><div class="ttdeci">void removeClient(int clientId)</div><div class="ttdoc">Remove a client from the map. </div><div class="ttdef"><b>Definition:</b> <a href="DimEventCollector_8cc_source.html#l00468">DimEventCollector.cc:468</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a22f73e4f3d4ed8e893268c269a4d2321"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void dqm4hep::core::DimEventCollector::commandHandler </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Dim command handler. </p>

<p>Definition at line <a class="el" href="DimEventCollector_8cc_source.html#l00306">306</a> of file <a class="el" href="DimEventCollector_8cc_source.html">DimEventCollector.cc</a>.</p>

<p>References <a class="el" href="DimEventCollector_8cc_source.html#l00287">getClient()</a>, <a class="el" href="DimEventCollector_8cc_source.html#l00209">handleEventReception()</a>, <a class="el" href="DimEventCollector_8h_source.html#l00167">m_clientRegisteredId</a>, <a class="el" href="DimEventCollector_8h_source.html#l00171">m_pClientRegisteredService</a>, <a class="el" href="DimEventCollector_8h_source.html#l00179">m_pClientRegitrationCommand</a>, <a class="el" href="DimEventCollector_8h_source.html#l00176">m_pCollectEventCommand</a>, <a class="el" href="DimEventCollector_8h_source.html#l00178">m_pSubEventIdentifierCommand</a>, <a class="el" href="DimEventCollector_8h_source.html#l00177">m_pUpdateModeCommand</a>, <a class="el" href="DimEventCollector_8h_source.html#l00130">dqm4hep::core::DimEventCollector::Client::m_subEventIdentifier</a>, <a class="el" href="DimEventCollector_8h_source.html#l00129">dqm4hep::core::DimEventCollector::Client::m_updateMode</a>, and <a class="el" href="DimEventCollector_8cc_source.html#l00468">removeClient()</a>.</p>
<div class="fragment"><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;    {</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;      DimCommand *pCommand = getCommand();</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;      <span class="keywordflow">if</span>(!pCommand)</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;      <span class="keywordflow">if</span>(pCommand == <a class="code" href="classdqm4hep_1_1core_1_1DimEventCollector.html#a1c68397e475187d5bc4c59842c3e8aaa">m_pUpdateModeCommand</a>)</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;      {</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;        <span class="keywordtype">bool</span> updateMode = <span class="keyword">static_cast&lt;</span><span class="keywordtype">bool</span><span class="keyword">&gt;</span>(pCommand-&gt;getInt());</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;        <span class="keywordtype">int</span> clientId = getClientId();</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;        <span class="keywordflow">if</span>(clientId &lt; 0)</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;          <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;        Client &amp;client = <a class="code" href="classdqm4hep_1_1core_1_1DimEventCollector.html#acd2f56555479152d1043f213270d7653">getClient</a>(clientId);</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;        client.m_updateMode = updateMode;</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;      }</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;      <span class="keywordflow">if</span>(pCommand == <a class="code" href="classdqm4hep_1_1core_1_1DimEventCollector.html#a162c2283c2ac96285725a97dc499105f">m_pSubEventIdentifierCommand</a>)</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;      {</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;        <span class="keywordtype">char</span> *pSubEventIdentifier = pCommand-&gt;getString();</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;        <span class="keywordtype">int</span> clientId = getClientId();</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;        std::string subEventIdentifier;</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;        <span class="keywordflow">if</span>(NULL != pSubEventIdentifier)</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;          subEventIdentifier = pSubEventIdentifier;</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;        <span class="keywordflow">if</span>(clientId &lt; 0)</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;          <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;        Client &amp;client = <a class="code" href="classdqm4hep_1_1core_1_1DimEventCollector.html#acd2f56555479152d1043f213270d7653">getClient</a>(clientId);</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;        client.m_subEventIdentifier = subEventIdentifier;</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;      }</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;      <span class="keywordflow">if</span>(pCommand == <a class="code" href="classdqm4hep_1_1core_1_1DimEventCollector.html#a8a2da41608271528e331f89ca18021b3">m_pCollectEventCommand</a>)</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;      {</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;        this-&gt;<a class="code" href="classdqm4hep_1_1core_1_1DimEventCollector.html#a87fe5d084b2fcf55e905b34b4e7d1c13">handleEventReception</a>(pCommand);</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;      }</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;      <span class="keywordflow">if</span>(pCommand == <a class="code" href="classdqm4hep_1_1core_1_1DimEventCollector.html#a7048327696e75a9ec0556ff0687432e7">m_pClientRegitrationCommand</a>)</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;      {</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;        <span class="keywordtype">int</span> clientId = getClientId();</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;        <span class="keywordflow">if</span>(clientId &lt; 0)</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;          <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;        <span class="keywordtype">int</span> registerClient = pCommand-&gt;getInt();</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;        <span class="keywordflow">if</span>(registerClient)</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;        {</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;          Client &amp;client = <a class="code" href="classdqm4hep_1_1core_1_1DimEventCollector.html#acd2f56555479152d1043f213270d7653">getClient</a>(clientId);</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;          LOG4CXX_INFO( dqmMainLogger , <span class="stringliteral">&quot;Client &quot;</span> &lt;&lt; clientId &lt;&lt; <span class="stringliteral">&quot; added to server !&quot;</span> );</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;          <span class="keywordtype">int</span> clientIds[2];</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;          clientIds[0] = clientId;</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;          clientIds[1] = 0;</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;          <a class="code" href="classdqm4hep_1_1core_1_1DimEventCollector.html#a101ace256f7a25a2b9c06cfd2b084ba8">m_clientRegisteredId</a> = clientId;</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;          <a class="code" href="classdqm4hep_1_1core_1_1DimEventCollector.html#ac788ba401e7ee0096ae16b0c078c1290">m_pClientRegisteredService</a>-&gt;selectiveUpdateService(<a class="code" href="classdqm4hep_1_1core_1_1DimEventCollector.html#a101ace256f7a25a2b9c06cfd2b084ba8">m_clientRegisteredId</a>, &amp;clientIds[0]);</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;          <a class="code" href="classdqm4hep_1_1core_1_1DimEventCollector.html#a101ace256f7a25a2b9c06cfd2b084ba8">m_clientRegisteredId</a> = 0;</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;        }</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;        {</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;          this-&gt;<a class="code" href="classdqm4hep_1_1core_1_1DimEventCollector.html#a2c7ba6cb621e7315baf8ad3e0f02f117">removeClient</a>(clientId);</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;        }</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;      }</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;    }</div>
<div class="ttc" id="classdqm4hep_1_1core_1_1DimEventCollector_html_acd2f56555479152d1043f213270d7653"><div class="ttname"><a href="classdqm4hep_1_1core_1_1DimEventCollector.html#acd2f56555479152d1043f213270d7653">dqm4hep::core::DimEventCollector::getClient</a></div><div class="ttdeci">Client &amp; getClient(int clientId)</div><div class="ttdoc">Get a client by id. </div><div class="ttdef"><b>Definition:</b> <a href="DimEventCollector_8cc_source.html#l00287">DimEventCollector.cc:287</a></div></div>
<div class="ttc" id="classdqm4hep_1_1core_1_1DimEventCollector_html_a1c68397e475187d5bc4c59842c3e8aaa"><div class="ttname"><a href="classdqm4hep_1_1core_1_1DimEventCollector.html#a1c68397e475187d5bc4c59842c3e8aaa">dqm4hep::core::DimEventCollector::m_pUpdateModeCommand</a></div><div class="ttdeci">DimCommand * m_pUpdateModeCommand</div><div class="ttdef"><b>Definition:</b> <a href="DimEventCollector_8h_source.html#l00177">DimEventCollector.h:177</a></div></div>
<div class="ttc" id="classdqm4hep_1_1core_1_1DimEventCollector_html_a162c2283c2ac96285725a97dc499105f"><div class="ttname"><a href="classdqm4hep_1_1core_1_1DimEventCollector.html#a162c2283c2ac96285725a97dc499105f">dqm4hep::core::DimEventCollector::m_pSubEventIdentifierCommand</a></div><div class="ttdeci">DimCommand * m_pSubEventIdentifierCommand</div><div class="ttdef"><b>Definition:</b> <a href="DimEventCollector_8h_source.html#l00178">DimEventCollector.h:178</a></div></div>
<div class="ttc" id="classdqm4hep_1_1core_1_1DimEventCollector_html_ac788ba401e7ee0096ae16b0c078c1290"><div class="ttname"><a href="classdqm4hep_1_1core_1_1DimEventCollector.html#ac788ba401e7ee0096ae16b0c078c1290">dqm4hep::core::DimEventCollector::m_pClientRegisteredService</a></div><div class="ttdeci">DimService * m_pClientRegisteredService</div><div class="ttdef"><b>Definition:</b> <a href="DimEventCollector_8h_source.html#l00171">DimEventCollector.h:171</a></div></div>
<div class="ttc" id="classdqm4hep_1_1core_1_1DimEventCollector_html_a87fe5d084b2fcf55e905b34b4e7d1c13"><div class="ttname"><a href="classdqm4hep_1_1core_1_1DimEventCollector.html#a87fe5d084b2fcf55e905b34b4e7d1c13">dqm4hep::core::DimEventCollector::handleEventReception</a></div><div class="ttdeci">void handleEventReception(DimCommand *pDimCommand)</div><div class="ttdef"><b>Definition:</b> <a href="DimEventCollector_8cc_source.html#l00209">DimEventCollector.cc:209</a></div></div>
<div class="ttc" id="classdqm4hep_1_1core_1_1DimEventCollector_html_a7048327696e75a9ec0556ff0687432e7"><div class="ttname"><a href="classdqm4hep_1_1core_1_1DimEventCollector.html#a7048327696e75a9ec0556ff0687432e7">dqm4hep::core::DimEventCollector::m_pClientRegitrationCommand</a></div><div class="ttdeci">DimCommand * m_pClientRegitrationCommand</div><div class="ttdef"><b>Definition:</b> <a href="DimEventCollector_8h_source.html#l00179">DimEventCollector.h:179</a></div></div>
<div class="ttc" id="classdqm4hep_1_1core_1_1DimEventCollector_html_a8a2da41608271528e331f89ca18021b3"><div class="ttname"><a href="classdqm4hep_1_1core_1_1DimEventCollector.html#a8a2da41608271528e331f89ca18021b3">dqm4hep::core::DimEventCollector::m_pCollectEventCommand</a></div><div class="ttdeci">DimCommand * m_pCollectEventCommand</div><div class="ttdef"><b>Definition:</b> <a href="DimEventCollector_8h_source.html#l00176">DimEventCollector.h:176</a></div></div>
<div class="ttc" id="classdqm4hep_1_1core_1_1DimEventCollector_html_a101ace256f7a25a2b9c06cfd2b084ba8"><div class="ttname"><a href="classdqm4hep_1_1core_1_1DimEventCollector.html#a101ace256f7a25a2b9c06cfd2b084ba8">dqm4hep::core::DimEventCollector::m_clientRegisteredId</a></div><div class="ttdeci">int m_clientRegisteredId</div><div class="ttdef"><b>Definition:</b> <a href="DimEventCollector_8h_source.html#l00167">DimEventCollector.h:167</a></div></div>
<div class="ttc" id="classdqm4hep_1_1core_1_1DimEventCollector_html_a2c7ba6cb621e7315baf8ad3e0f02f117"><div class="ttname"><a href="classdqm4hep_1_1core_1_1DimEventCollector.html#a2c7ba6cb621e7315baf8ad3e0f02f117">dqm4hep::core::DimEventCollector::removeClient</a></div><div class="ttdeci">void removeClient(int clientId)</div><div class="ttdoc">Remove a client from the map. </div><div class="ttdef"><b>Definition:</b> <a href="DimEventCollector_8cc_source.html#l00468">DimEventCollector.cc:468</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a2300d37249b1ed651ff330bc0375926d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">xdrstream::BufferDevice * dqm4hep::core::DimEventCollector::configureBuffer </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>pBuffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">xdrstream::xdr_size_t&#160;</td>
          <td class="paramname"><em>bufferSize</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Configure the buffer. </p>
<p>Allocate the ptr is needed and set the buffer to read only and owner of the buffer. The buffer is copied since event updates need to keep track of the buffer </p>

<p>Definition at line <a class="el" href="DimEventCollector_8cc_source.html#l00485">485</a> of file <a class="el" href="DimEventCollector_8cc_source.html">DimEventCollector.cc</a>.</p>

<p>References <a class="el" href="DimEventCollector_8h_source.html#l00184">m_pBuffer</a>.</p>

<p>Referenced by <a class="el" href="DimEventCollector_8cc_source.html#l00209">handleEventReception()</a>.</p>
<div class="fragment"><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;    {</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;      <span class="comment">// allocate it in read only mode and set ownership to false</span></div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;      <span class="keywordflow">if</span>(0 == <a class="code" href="classdqm4hep_1_1core_1_1DimEventCollector.html#a96fe309d91f27a426b793e75126fbe41">m_pBuffer</a>)</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;        <span class="comment">// false for no copy</span></div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;        <a class="code" href="classdqm4hep_1_1core_1_1DimEventCollector.html#a96fe309d91f27a426b793e75126fbe41">m_pBuffer</a> = <span class="keyword">new</span> xdrstream::BufferDevice(pBuffer, bufferSize, <span class="keyword">true</span>);</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;        <a class="code" href="classdqm4hep_1_1core_1_1DimEventCollector.html#a96fe309d91f27a426b793e75126fbe41">m_pBuffer</a>-&gt;setBuffer(pBuffer, bufferSize, <span class="keyword">true</span>);</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;      <a class="code" href="classdqm4hep_1_1core_1_1DimEventCollector.html#a96fe309d91f27a426b793e75126fbe41">m_pBuffer</a>-&gt;setOwner(<span class="keyword">true</span>);</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classdqm4hep_1_1core_1_1DimEventCollector.html#a96fe309d91f27a426b793e75126fbe41">m_pBuffer</a>;</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;    }</div>
<div class="ttc" id="classdqm4hep_1_1core_1_1DimEventCollector_html_a96fe309d91f27a426b793e75126fbe41"><div class="ttname"><a href="classdqm4hep_1_1core_1_1DimEventCollector.html#a96fe309d91f27a426b793e75126fbe41">dqm4hep::core::DimEventCollector::m_pBuffer</a></div><div class="ttdeci">xdrstream::BufferDevice * m_pBuffer</div><div class="ttdef"><b>Definition:</b> <a href="DimEventCollector_8h_source.html#l00184">DimEventCollector.h:184</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="acd2f56555479152d1043f213270d7653"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classdqm4hep_1_1core_1_1DimEventCollector_1_1Client.html">DimEventCollector::Client</a> &amp; dqm4hep::core::DimEventCollector::getClient </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>clientId</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get a client by id. </p>
<p>Create it if not registered </p>

<p>Definition at line <a class="el" href="DimEventCollector_8cc_source.html#l00287">287</a> of file <a class="el" href="DimEventCollector_8cc_source.html">DimEventCollector.cc</a>.</p>

<p>References <a class="el" href="DimEventCollector_8h_source.html#l00128">dqm4hep::core::DimEventCollector::Client::m_clientId</a>, and <a class="el" href="DimEventCollector_8h_source.html#l00190">m_clientMap</a>.</p>

<p>Referenced by <a class="el" href="DimEventCollector_8cc_source.html#l00306">commandHandler()</a>.</p>
<div class="fragment"><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;    {</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;      ClientMap::iterator findIter = <a class="code" href="classdqm4hep_1_1core_1_1DimEventCollector.html#aadf5d9562301fb398cb7448464191984">m_clientMap</a>.find(clientId);</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;      <span class="keywordflow">if</span>(<a class="code" href="classdqm4hep_1_1core_1_1DimEventCollector.html#aadf5d9562301fb398cb7448464191984">m_clientMap</a>.end() != findIter)</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;        <span class="keywordflow">return</span> findIter-&gt;second;</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;      Client newClient;</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;      newClient.m_clientId = clientId;</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;      newClient.m_updateMode = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;      newClient.m_subEventIdentifier = <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;      <a class="code" href="classdqm4hep_1_1core_1_1DimEventCollector.html#aadf5d9562301fb398cb7448464191984">m_clientMap</a>.insert(std::pair&lt;int, Client&gt;(clientId, newClient));</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classdqm4hep_1_1core_1_1DimEventCollector.html#aadf5d9562301fb398cb7448464191984">m_clientMap</a>.find(clientId)-&gt;second;</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;    }</div>
<div class="ttc" id="classdqm4hep_1_1core_1_1DimEventCollector_html_aadf5d9562301fb398cb7448464191984"><div class="ttname"><a href="classdqm4hep_1_1core_1_1DimEventCollector.html#aadf5d9562301fb398cb7448464191984">dqm4hep::core::DimEventCollector::m_clientMap</a></div><div class="ttdeci">ClientMap m_clientMap</div><div class="ttdef"><b>Definition:</b> <a href="DimEventCollector_8h_source.html#l00190">DimEventCollector.h:190</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a9fc6f35609ed81a6b4db599ef78578c4"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const std::string &amp; dqm4hep::core::DimEventCollector::getCollectorName </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the collector name. </p>

<p>Implements <a class="el" href="classdqm4hep_1_1core_1_1EventCollectorImp.html#aaaaa722ae024387a82484d8ac42ea043">dqm4hep::core::EventCollectorImp</a>.</p>

<p>Definition at line <a class="el" href="DimEventCollector_8cc_source.html#l00111">111</a> of file <a class="el" href="DimEventCollector_8cc_source.html">DimEventCollector.cc</a>.</p>

<p>References <a class="el" href="DimEventCollector_8h_source.html#l00164">m_collectorName</a>.</p>

<p>Referenced by <a class="el" href="DimEventCollector_8cc_source.html#l00125">startCollector()</a>.</p>
<div class="fragment"><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;    {</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classdqm4hep_1_1core_1_1DimEventCollector.html#abc48b7dafa4f285ccf9b8e5e41e8e4be">m_collectorName</a>;</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;    }</div>
<div class="ttc" id="classdqm4hep_1_1core_1_1DimEventCollector_html_abc48b7dafa4f285ccf9b8e5e41e8e4be"><div class="ttname"><a href="classdqm4hep_1_1core_1_1DimEventCollector.html#abc48b7dafa4f285ccf9b8e5e41e8e4be">dqm4hep::core::DimEventCollector::m_collectorName</a></div><div class="ttdeci">std::string m_collectorName</div><div class="ttdef"><b>Definition:</b> <a href="DimEventCollector_8h_source.html#l00164">DimEventCollector.h:164</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a11aea9f2d3f8b72d9f131f3abd3b2ecd"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">EventStreamer * dqm4hep::core::DimEventCollector::getEventStreamer </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the event streamer. </p>

<p>Implements <a class="el" href="classdqm4hep_1_1core_1_1EventCollectorImp.html#a46a05b36f0baea7f0d8299b8cfde9ddf">dqm4hep::core::EventCollectorImp</a>.</p>

<p>Definition at line <a class="el" href="DimEventCollector_8cc_source.html#l00202">202</a> of file <a class="el" href="DimEventCollector_8cc_source.html">DimEventCollector.cc</a>.</p>

<p>References <a class="el" href="DimEventCollector_8h_source.html#l00187">m_pEventStreamer</a>.</p>
<div class="fragment"><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;    {</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classdqm4hep_1_1core_1_1DimEventCollector.html#a86309d90d1fead2c67bf5e948defd04d">m_pEventStreamer</a>;</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;    }</div>
<div class="ttc" id="classdqm4hep_1_1core_1_1DimEventCollector_html_a86309d90d1fead2c67bf5e948defd04d"><div class="ttname"><a href="classdqm4hep_1_1core_1_1DimEventCollector.html#a86309d90d1fead2c67bf5e948defd04d">dqm4hep::core::DimEventCollector::m_pEventStreamer</a></div><div class="ttdeci">EventStreamer * m_pEventStreamer</div><div class="ttdef"><b>Definition:</b> <a href="DimEventCollector_8h_source.html#l00187">DimEventCollector.h:187</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a87fe5d084b2fcf55e905b34b4e7d1c13"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void dqm4hep::core::DimEventCollector::handleEventReception </td>
          <td>(</td>
          <td class="paramtype">DimCommand *&#160;</td>
          <td class="paramname"><em>pDimCommand</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="DimEventCollector_8cc_source.html#l00209">209</a> of file <a class="el" href="DimEventCollector_8cc_source.html">DimEventCollector.cc</a>.</p>

<p>References <a class="el" href="DimEventCollector_8cc_source.html#l00485">configureBuffer()</a>, <a class="el" href="DimEventCollector_8h_source.html#l00188">m_pCurrentEvent</a>, <a class="el" href="DimEventCollector_8h_source.html#l00187">m_pEventStreamer</a>, <a class="el" href="DimEventCollector_8h_source.html#l00173">m_pStatisticsService</a>, <a class="el" href="StatisticsService_8cc_source.html#l00062">dqm4hep::core::StatisticsService::update()</a>, and <a class="el" href="DimEventCollector_8cc_source.html#l00387">updateEventService()</a>.</p>

<p>Referenced by <a class="el" href="DimEventCollector_8cc_source.html#l00306">commandHandler()</a>.</p>
<div class="fragment"><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;    {</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;      dqm_char *pBuffer = <span class="keyword">static_cast&lt;</span><span class="keywordtype">char</span>*<span class="keyword">&gt;</span>(pDimCommand-&gt;getData());</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;      dqm_uint bufferSize = pDimCommand-&gt;getSize();</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;      <span class="keywordflow">if</span>(NULL == pBuffer || 0 == bufferSize)</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;      <a class="code" href="classdqm4hep_1_1core_1_1DimEventCollector.html#a7d39789cdf38a172510219865bf8e0a6">m_pStatisticsService</a>-&gt;<a class="code" href="classdqm4hep_1_1core_1_1StatisticsService.html#a964aace7e67219c88c1df5397f922f6c">update</a>(bufferSize);</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;      Event *pEvent = NULL;</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;      <span class="keywordflow">try</span></div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;      {</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;        xdrstream::BufferDevice *pDevice = this-&gt;<a class="code" href="classdqm4hep_1_1core_1_1DimEventCollector.html#a2300d37249b1ed651ff330bc0375926d">configureBuffer</a>(pBuffer, bufferSize);</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;        <span class="comment">// if streamer is available, de-serialize the event</span></div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;        <span class="keywordflow">if</span>(NULL != <a class="code" href="classdqm4hep_1_1core_1_1DimEventCollector.html#a86309d90d1fead2c67bf5e948defd04d">m_pEventStreamer</a>)</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;        {</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;          THROW_RESULT_IF(STATUS_CODE_SUCCESS, !=, <a class="code" href="classdqm4hep_1_1core_1_1DimEventCollector.html#a86309d90d1fead2c67bf5e948defd04d">m_pEventStreamer</a>-&gt;read(pEvent, pDevice));</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;          <span class="comment">// replace the current event</span></div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;          <span class="keywordflow">if</span>(NULL != pEvent)</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;          {</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;            <span class="keywordflow">if</span>(NULL != <a class="code" href="classdqm4hep_1_1core_1_1DimEventCollector.html#af1b8393fcdda3bf83d8121b88237157f">m_pCurrentEvent</a>)</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;              <span class="keyword">delete</span> <a class="code" href="classdqm4hep_1_1core_1_1DimEventCollector.html#af1b8393fcdda3bf83d8121b88237157f">m_pCurrentEvent</a>;</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;            <a class="code" href="classdqm4hep_1_1core_1_1DimEventCollector.html#af1b8393fcdda3bf83d8121b88237157f">m_pCurrentEvent</a> = pEvent;</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;          }</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;        }</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;      }</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;      <span class="keywordflow">catch</span>(StatusCodeException &amp;exception)</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;      {</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;        <span class="keywordflow">if</span>(NULL != pEvent)</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;          <span class="keyword">delete</span> pEvent;</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;        LOG4CXX_ERROR( dqmMainLogger , <span class="stringliteral">&quot;Couldn&#39;t deserialize the buffer : &quot;</span> &lt;&lt; exception.getStatusCode() );</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;      }</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;      LOG4CXX_DEBUG( dqmMainLogger , <span class="stringliteral">&quot;Event received&quot;</span> );</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;      this-&gt;<a class="code" href="classdqm4hep_1_1core_1_1DimEventCollector.html#a1740237d5381c3f29238496b2190e815">updateEventService</a>();</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;    }</div>
<div class="ttc" id="classdqm4hep_1_1core_1_1DimEventCollector_html_a7d39789cdf38a172510219865bf8e0a6"><div class="ttname"><a href="classdqm4hep_1_1core_1_1DimEventCollector.html#a7d39789cdf38a172510219865bf8e0a6">dqm4hep::core::DimEventCollector::m_pStatisticsService</a></div><div class="ttdeci">StatisticsService * m_pStatisticsService</div><div class="ttdef"><b>Definition:</b> <a href="DimEventCollector_8h_source.html#l00173">DimEventCollector.h:173</a></div></div>
<div class="ttc" id="classdqm4hep_1_1core_1_1DimEventCollector_html_a86309d90d1fead2c67bf5e948defd04d"><div class="ttname"><a href="classdqm4hep_1_1core_1_1DimEventCollector.html#a86309d90d1fead2c67bf5e948defd04d">dqm4hep::core::DimEventCollector::m_pEventStreamer</a></div><div class="ttdeci">EventStreamer * m_pEventStreamer</div><div class="ttdef"><b>Definition:</b> <a href="DimEventCollector_8h_source.html#l00187">DimEventCollector.h:187</a></div></div>
<div class="ttc" id="classdqm4hep_1_1core_1_1DimEventCollector_html_a2300d37249b1ed651ff330bc0375926d"><div class="ttname"><a href="classdqm4hep_1_1core_1_1DimEventCollector.html#a2300d37249b1ed651ff330bc0375926d">dqm4hep::core::DimEventCollector::configureBuffer</a></div><div class="ttdeci">xdrstream::BufferDevice * configureBuffer(char *pBuffer, xdrstream::xdr_size_t bufferSize)</div><div class="ttdoc">Configure the buffer. </div><div class="ttdef"><b>Definition:</b> <a href="DimEventCollector_8cc_source.html#l00485">DimEventCollector.cc:485</a></div></div>
<div class="ttc" id="classdqm4hep_1_1core_1_1StatisticsService_html_a964aace7e67219c88c1df5397f922f6c"><div class="ttname"><a href="classdqm4hep_1_1core_1_1StatisticsService.html#a964aace7e67219c88c1df5397f922f6c">dqm4hep::core::StatisticsService::update</a></div><div class="ttdeci">void update(unsigned int statistics)</div><div class="ttdoc">Update the service with the new statistics. </div><div class="ttdef"><b>Definition:</b> <a href="StatisticsService_8cc_source.html#l00062">StatisticsService.cc:62</a></div></div>
<div class="ttc" id="classdqm4hep_1_1core_1_1DimEventCollector_html_a1740237d5381c3f29238496b2190e815"><div class="ttname"><a href="classdqm4hep_1_1core_1_1DimEventCollector.html#a1740237d5381c3f29238496b2190e815">dqm4hep::core::DimEventCollector::updateEventService</a></div><div class="ttdeci">void updateEventService()</div><div class="ttdoc">Update the event service for clients that have specified an update mode. </div><div class="ttdef"><b>Definition:</b> <a href="DimEventCollector_8cc_source.html#l00387">DimEventCollector.cc:387</a></div></div>
<div class="ttc" id="classdqm4hep_1_1core_1_1DimEventCollector_html_af1b8393fcdda3bf83d8121b88237157f"><div class="ttname"><a href="classdqm4hep_1_1core_1_1DimEventCollector.html#af1b8393fcdda3bf83d8121b88237157f">dqm4hep::core::DimEventCollector::m_pCurrentEvent</a></div><div class="ttdeci">Event * m_pCurrentEvent</div><div class="ttdef"><b>Definition:</b> <a href="DimEventCollector_8h_source.html#l00188">DimEventCollector.h:188</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a52a0578469fc4d8d7f4abf78243ae887"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void dqm4hep::core::DimEventCollector::handleEventRequest </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classdqm4hep_1_1core_1_1DimEventRequestRpc.html">DimEventRequestRpc</a> *&#160;</td>
          <td class="paramname"><em>pDimRpc</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="DimEventCollector_8cc_source.html#l00255">255</a> of file <a class="el" href="DimEventCollector_8cc_source.html">DimEventCollector.cc</a>.</p>

<p>References <a class="el" href="DimEventCollector_8cc_source.html#l00038">dqm4hep::core::DimEventCollector_emptyBuffer</a>, <a class="el" href="DimEventCollector_8cc_source.html#l00039">dqm4hep::core::DimEventCollector_emptyBufferSize</a>, <a class="el" href="DimEventCollector_8h_source.html#l00184">m_pBuffer</a>, <a class="el" href="DimEventCollector_8h_source.html#l00188">m_pCurrentEvent</a>, <a class="el" href="DimEventCollector_8h_source.html#l00187">m_pEventStreamer</a>, and <a class="el" href="DimEventCollector_8h_source.html#l00185">m_pSubEventBuffer</a>.</p>

<p>Referenced by <a class="el" href="DimEventCollector_8cc_source.html#l00050">dqm4hep::core::DimEventRequestRpc::rpcHandler()</a>.</p>
<div class="fragment"><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;    {</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;      <span class="keywordtype">char</span> *pSubEventIdentifier = pDimRpc-&gt;getString();</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;      std::string subEventIdentifier;</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;      <span class="keywordflow">if</span>(NULL != pSubEventIdentifier)</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;        subEventIdentifier = pSubEventIdentifier;</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;      <span class="keywordflow">if</span>(NULL != <a class="code" href="classdqm4hep_1_1core_1_1DimEventCollector.html#a86309d90d1fead2c67bf5e948defd04d">m_pEventStreamer</a> &amp;&amp; NULL != <a class="code" href="classdqm4hep_1_1core_1_1DimEventCollector.html#af1b8393fcdda3bf83d8121b88237157f">m_pCurrentEvent</a> &amp;&amp; !subEventIdentifier.empty())</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;      {</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;        <span class="keywordflow">try</span></div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;        {</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;          <a class="code" href="classdqm4hep_1_1core_1_1DimEventCollector.html#a867891d8d31779f629177c3e9f495717">m_pSubEventBuffer</a>-&gt;reset();</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;          THROW_RESULT_IF(STATUS_CODE_SUCCESS, !=, <a class="code" href="classdqm4hep_1_1core_1_1DimEventCollector.html#a86309d90d1fead2c67bf5e948defd04d">m_pEventStreamer</a>-&gt;write(<a class="code" href="classdqm4hep_1_1core_1_1DimEventCollector.html#af1b8393fcdda3bf83d8121b88237157f">m_pCurrentEvent</a>, subEventIdentifier, <a class="code" href="classdqm4hep_1_1core_1_1DimEventCollector.html#a867891d8d31779f629177c3e9f495717">m_pSubEventBuffer</a>));</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;          dqm_char *pEventBuffer = <a class="code" href="classdqm4hep_1_1core_1_1DimEventCollector.html#a867891d8d31779f629177c3e9f495717">m_pSubEventBuffer</a>-&gt;getBuffer();</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;          <span class="keywordtype">int</span> bufferSize = <a class="code" href="classdqm4hep_1_1core_1_1DimEventCollector.html#a867891d8d31779f629177c3e9f495717">m_pSubEventBuffer</a>-&gt;getPosition();</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;          pDimRpc-&gt;setData((<span class="keywordtype">void</span> *) pEventBuffer, bufferSize);</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;        }</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;        <span class="keywordflow">catch</span>(...)</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;        {</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;        }</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;      }</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span>(NULL != <a class="code" href="classdqm4hep_1_1core_1_1DimEventCollector.html#a96fe309d91f27a426b793e75126fbe41">m_pBuffer</a> &amp;&amp; NULL != <a class="code" href="classdqm4hep_1_1core_1_1DimEventCollector.html#a96fe309d91f27a426b793e75126fbe41">m_pBuffer</a>-&gt;getBuffer() &amp;&amp; 0 != <a class="code" href="classdqm4hep_1_1core_1_1DimEventCollector.html#a96fe309d91f27a426b793e75126fbe41">m_pBuffer</a>-&gt;getPosition())</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;        pDimRpc-&gt;setData((<span class="keywordtype">void</span> *) <a class="code" href="classdqm4hep_1_1core_1_1DimEventCollector.html#a96fe309d91f27a426b793e75126fbe41">m_pBuffer</a>-&gt;getBuffer(), <a class="code" href="classdqm4hep_1_1core_1_1DimEventCollector.html#a96fe309d91f27a426b793e75126fbe41">m_pBuffer</a>-&gt;getPosition());</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;        pDimRpc-&gt;setData((<span class="keywordtype">void</span> *) &amp;<a class="code" href="namespacedqm4hep_1_1core.html#a64ee4dd6c4100c60f9bc345c6ec7c7ba">DimEventCollector_emptyBuffer</a>[0], <a class="code" href="namespacedqm4hep_1_1core.html#acb479d88505f0d06c5859ab2e48e1004">DimEventCollector_emptyBufferSize</a>);</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;    }</div>
<div class="ttc" id="classdqm4hep_1_1core_1_1DimEventCollector_html_a867891d8d31779f629177c3e9f495717"><div class="ttname"><a href="classdqm4hep_1_1core_1_1DimEventCollector.html#a867891d8d31779f629177c3e9f495717">dqm4hep::core::DimEventCollector::m_pSubEventBuffer</a></div><div class="ttdeci">xdrstream::BufferDevice * m_pSubEventBuffer</div><div class="ttdef"><b>Definition:</b> <a href="DimEventCollector_8h_source.html#l00185">DimEventCollector.h:185</a></div></div>
<div class="ttc" id="classdqm4hep_1_1core_1_1DimEventCollector_html_a86309d90d1fead2c67bf5e948defd04d"><div class="ttname"><a href="classdqm4hep_1_1core_1_1DimEventCollector.html#a86309d90d1fead2c67bf5e948defd04d">dqm4hep::core::DimEventCollector::m_pEventStreamer</a></div><div class="ttdeci">EventStreamer * m_pEventStreamer</div><div class="ttdef"><b>Definition:</b> <a href="DimEventCollector_8h_source.html#l00187">DimEventCollector.h:187</a></div></div>
<div class="ttc" id="namespacedqm4hep_1_1core_html_acb479d88505f0d06c5859ab2e48e1004"><div class="ttname"><a href="namespacedqm4hep_1_1core.html#acb479d88505f0d06c5859ab2e48e1004">dqm4hep::core::DimEventCollector_emptyBufferSize</a></div><div class="ttdeci">static const uint32_t DimEventCollector_emptyBufferSize</div><div class="ttdef"><b>Definition:</b> <a href="DimEventCollector_8cc_source.html#l00039">DimEventCollector.cc:39</a></div></div>
<div class="ttc" id="namespacedqm4hep_1_1core_html_a64ee4dd6c4100c60f9bc345c6ec7c7ba"><div class="ttname"><a href="namespacedqm4hep_1_1core.html#a64ee4dd6c4100c60f9bc345c6ec7c7ba">dqm4hep::core::DimEventCollector_emptyBuffer</a></div><div class="ttdeci">static const char DimEventCollector_emptyBuffer[]</div><div class="ttdef"><b>Definition:</b> <a href="DimEventCollector_8cc_source.html#l00038">DimEventCollector.cc:38</a></div></div>
<div class="ttc" id="classdqm4hep_1_1core_1_1DimEventCollector_html_af1b8393fcdda3bf83d8121b88237157f"><div class="ttname"><a href="classdqm4hep_1_1core_1_1DimEventCollector.html#af1b8393fcdda3bf83d8121b88237157f">dqm4hep::core::DimEventCollector::m_pCurrentEvent</a></div><div class="ttdeci">Event * m_pCurrentEvent</div><div class="ttdef"><b>Definition:</b> <a href="DimEventCollector_8h_source.html#l00188">DimEventCollector.h:188</a></div></div>
<div class="ttc" id="classdqm4hep_1_1core_1_1DimEventCollector_html_a96fe309d91f27a426b793e75126fbe41"><div class="ttname"><a href="classdqm4hep_1_1core_1_1DimEventCollector.html#a96fe309d91f27a426b793e75126fbe41">dqm4hep::core::DimEventCollector::m_pBuffer</a></div><div class="ttdeci">xdrstream::BufferDevice * m_pBuffer</div><div class="ttdef"><b>Definition:</b> <a href="DimEventCollector_8h_source.html#l00184">DimEventCollector.h:184</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aba7007c11d7b4cc4164a5f2e46af9b51"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool dqm4hep::core::DimEventCollector::isRunning </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Whether the collector server is running. </p>

<p>Implements <a class="el" href="classdqm4hep_1_1core_1_1EventCollectorImp.html#a8d48f524d563a47440b282f9f959774e">dqm4hep::core::EventCollectorImp</a>.</p>

<p>Definition at line <a class="el" href="DimEventCollector_8cc_source.html#l00118">118</a> of file <a class="el" href="DimEventCollector_8cc_source.html">DimEventCollector.cc</a>.</p>

<p>References <a class="el" href="DimEventCollector_8h_source.html#l00165">m_isRunning</a>.</p>

<p>Referenced by <a class="el" href="DimEventCollector_8cc_source.html#l00099">setCollectorName()</a>, <a class="el" href="DimEventCollector_8cc_source.html#l00125">startCollector()</a>, <a class="el" href="DimEventCollector_8cc_source.html#l00162">stopCollector()</a>, <a class="el" href="DimEventCollector_8cc_source.html#l00387">updateEventService()</a>, and <a class="el" href="DimEventCollector_8cc_source.html#l00080">~DimEventCollector()</a>.</p>
<div class="fragment"><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;    {</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classdqm4hep_1_1core_1_1DimEventCollector.html#a16c4e57f4d9c25086612b6a5186a1c46">m_isRunning</a>;</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;    }</div>
<div class="ttc" id="classdqm4hep_1_1core_1_1DimEventCollector_html_a16c4e57f4d9c25086612b6a5186a1c46"><div class="ttname"><a href="classdqm4hep_1_1core_1_1DimEventCollector.html#a16c4e57f4d9c25086612b6a5186a1c46">dqm4hep::core::DimEventCollector::m_isRunning</a></div><div class="ttdeci">bool m_isRunning</div><div class="ttdef"><b>Definition:</b> <a href="DimEventCollector_8h_source.html#l00165">DimEventCollector.h:165</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a2c7ba6cb621e7315baf8ad3e0f02f117"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void dqm4hep::core::DimEventCollector::removeClient </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>clientId</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Remove a client from the map. </p>

<p>Definition at line <a class="el" href="DimEventCollector_8cc_source.html#l00468">468</a> of file <a class="el" href="DimEventCollector_8cc_source.html">DimEventCollector.cc</a>.</p>

<p>References <a class="el" href="DimEventCollector_8h_source.html#l00190">m_clientMap</a>.</p>

<p>Referenced by <a class="el" href="DimEventCollector_8cc_source.html#l00380">clientExitHandler()</a>, and <a class="el" href="DimEventCollector_8cc_source.html#l00306">commandHandler()</a>.</p>
<div class="fragment"><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;    {</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;      <span class="keywordflow">if</span>(clientId &lt; 0)</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;      ClientMap::iterator findIter = <a class="code" href="classdqm4hep_1_1core_1_1DimEventCollector.html#aadf5d9562301fb398cb7448464191984">m_clientMap</a>.find(clientId);</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;      <span class="keywordflow">if</span>(<a class="code" href="classdqm4hep_1_1core_1_1DimEventCollector.html#aadf5d9562301fb398cb7448464191984">m_clientMap</a>.end() == findIter)</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;      <a class="code" href="classdqm4hep_1_1core_1_1DimEventCollector.html#aadf5d9562301fb398cb7448464191984">m_clientMap</a>.erase(findIter);</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;      LOG4CXX_INFO( dqmMainLogger , <span class="stringliteral">&quot;Client &quot;</span> &lt;&lt; clientId &lt;&lt; <span class="stringliteral">&quot; removed from server !&quot;</span> );</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;    }</div>
<div class="ttc" id="classdqm4hep_1_1core_1_1DimEventCollector_html_aadf5d9562301fb398cb7448464191984"><div class="ttname"><a href="classdqm4hep_1_1core_1_1DimEventCollector.html#aadf5d9562301fb398cb7448464191984">dqm4hep::core::DimEventCollector::m_clientMap</a></div><div class="ttdeci">ClientMap m_clientMap</div><div class="ttdef"><b>Definition:</b> <a href="DimEventCollector_8h_source.html#l00190">DimEventCollector.h:190</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a1a33220c9ce8fd5231c7f90536983502"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">StatusCode dqm4hep::core::DimEventCollector::setCollectorName </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>collectorName</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Set the collector name. </p>

<p>Implements <a class="el" href="classdqm4hep_1_1core_1_1EventCollectorImp.html#afa15a92efe338bc6331150965cb1cd49">dqm4hep::core::EventCollectorImp</a>.</p>

<p>Definition at line <a class="el" href="DimEventCollector_8cc_source.html#l00099">99</a> of file <a class="el" href="DimEventCollector_8cc_source.html">DimEventCollector.cc</a>.</p>

<p>References <a class="el" href="DimEventCollector_8cc_source.html#l00118">isRunning()</a>, and <a class="el" href="DimEventCollector_8h_source.html#l00164">m_collectorName</a>.</p>
<div class="fragment"><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;    {</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;      <span class="keywordflow">if</span>(<a class="code" href="classdqm4hep_1_1core_1_1DimEventCollector.html#aba7007c11d7b4cc4164a5f2e46af9b51">isRunning</a>())</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;        <span class="keywordflow">return</span> STATUS_CODE_NOT_ALLOWED;</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;      <a class="code" href="classdqm4hep_1_1core_1_1DimEventCollector.html#abc48b7dafa4f285ccf9b8e5e41e8e4be">m_collectorName</a> = collectorName;</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;      <span class="keywordflow">return</span> STATUS_CODE_SUCCESS;</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;    }</div>
<div class="ttc" id="classdqm4hep_1_1core_1_1DimEventCollector_html_aba7007c11d7b4cc4164a5f2e46af9b51"><div class="ttname"><a href="classdqm4hep_1_1core_1_1DimEventCollector.html#aba7007c11d7b4cc4164a5f2e46af9b51">dqm4hep::core::DimEventCollector::isRunning</a></div><div class="ttdeci">bool isRunning() const </div><div class="ttdoc">Whether the collector server is running. </div><div class="ttdef"><b>Definition:</b> <a href="DimEventCollector_8cc_source.html#l00118">DimEventCollector.cc:118</a></div></div>
<div class="ttc" id="classdqm4hep_1_1core_1_1DimEventCollector_html_abc48b7dafa4f285ccf9b8e5e41e8e4be"><div class="ttname"><a href="classdqm4hep_1_1core_1_1DimEventCollector.html#abc48b7dafa4f285ccf9b8e5e41e8e4be">dqm4hep::core::DimEventCollector::m_collectorName</a></div><div class="ttdeci">std::string m_collectorName</div><div class="ttdef"><b>Definition:</b> <a href="DimEventCollector_8h_source.html#l00164">DimEventCollector.h:164</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a7a99f2971f4bd627386d262c9f8c8b2d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void dqm4hep::core::DimEventCollector::setEventStreamer </td>
          <td>(</td>
          <td class="paramtype">EventStreamer *&#160;</td>
          <td class="paramname"><em>pEventStreamer</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Set the event streamer to serialize/deserialize the in/out-coming events. </p>

<p>Implements <a class="el" href="classdqm4hep_1_1core_1_1EventCollectorImp.html#ac696f87eed7dc7b098e66eba82fe73b7">dqm4hep::core::EventCollectorImp</a>.</p>

<p>Definition at line <a class="el" href="DimEventCollector_8cc_source.html#l00192">192</a> of file <a class="el" href="DimEventCollector_8cc_source.html">DimEventCollector.cc</a>.</p>

<p>References <a class="el" href="DimEventCollector_8h_source.html#l00187">m_pEventStreamer</a>.</p>
<div class="fragment"><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;    {</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;      <span class="keywordflow">if</span>(<a class="code" href="classdqm4hep_1_1core_1_1DimEventCollector.html#a86309d90d1fead2c67bf5e948defd04d">m_pEventStreamer</a>)</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;        <span class="keyword">delete</span> <a class="code" href="classdqm4hep_1_1core_1_1DimEventCollector.html#a86309d90d1fead2c67bf5e948defd04d">m_pEventStreamer</a>;</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;      <a class="code" href="classdqm4hep_1_1core_1_1DimEventCollector.html#a86309d90d1fead2c67bf5e948defd04d">m_pEventStreamer</a> = pEventStreamer;</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;    }</div>
<div class="ttc" id="classdqm4hep_1_1core_1_1DimEventCollector_html_a86309d90d1fead2c67bf5e948defd04d"><div class="ttname"><a href="classdqm4hep_1_1core_1_1DimEventCollector.html#a86309d90d1fead2c67bf5e948defd04d">dqm4hep::core::DimEventCollector::m_pEventStreamer</a></div><div class="ttdeci">EventStreamer * m_pEventStreamer</div><div class="ttdef"><b>Definition:</b> <a href="DimEventCollector_8h_source.html#l00187">DimEventCollector.h:187</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a758829b2281c7dc6d860e6a715355dc1"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">StatusCode dqm4hep::core::DimEventCollector::startCollector </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Start the collector server. </p>

<p>Implements <a class="el" href="classdqm4hep_1_1core_1_1EventCollectorImp.html#a77b00f14ab128802e7d43299320ff294">dqm4hep::core::EventCollectorImp</a>.</p>

<p>Definition at line <a class="el" href="DimEventCollector_8cc_source.html#l00125">125</a> of file <a class="el" href="DimEventCollector_8cc_source.html">DimEventCollector.cc</a>.</p>

<p>References <a class="el" href="DimEventCollector_8cc_source.html#l00038">dqm4hep::core::DimEventCollector_emptyBuffer</a>, <a class="el" href="DimEventCollector_8cc_source.html#l00039">dqm4hep::core::DimEventCollector_emptyBufferSize</a>, <a class="el" href="DimEventCollector_8h_source.html#l00073">DimEventRequestRpc</a>, <a class="el" href="DimEventCollector_8cc_source.html#l00111">getCollectorName()</a>, <a class="el" href="DimEventCollector_8cc_source.html#l00118">isRunning()</a>, <a class="el" href="DimEventCollector_8h_source.html#l00167">m_clientRegisteredId</a>, <a class="el" href="DimEventCollector_8h_source.html#l00165">m_isRunning</a>, <a class="el" href="DimEventCollector_8h_source.html#l00171">m_pClientRegisteredService</a>, <a class="el" href="DimEventCollector_8h_source.html#l00179">m_pClientRegitrationCommand</a>, <a class="el" href="DimEventCollector_8h_source.html#l00176">m_pCollectEventCommand</a>, <a class="el" href="DimEventCollector_8h_source.html#l00182">m_pEventRequestRpc</a>, <a class="el" href="DimEventCollector_8h_source.html#l00172">m_pEventUpdateService</a>, <a class="el" href="DimEventCollector_8h_source.html#l00170">m_pServerStateService</a>, <a class="el" href="DimEventCollector_8h_source.html#l00173">m_pStatisticsService</a>, <a class="el" href="DimEventCollector_8h_source.html#l00178">m_pSubEventIdentifierCommand</a>, <a class="el" href="DimEventCollector_8h_source.html#l00177">m_pUpdateModeCommand</a>, and <a class="el" href="DimEventCollector_8h_source.html#l00166">m_state</a>.</p>
<div class="fragment"><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;    {</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;      <span class="keywordflow">if</span>(this-&gt;<a class="code" href="classdqm4hep_1_1core_1_1DimEventCollector.html#aba7007c11d7b4cc4164a5f2e46af9b51">isRunning</a>())</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;        <span class="keywordflow">return</span> STATUS_CODE_SUCCESS;</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;      <a class="code" href="classdqm4hep_1_1core_1_1DimEventCollector.html#aecac8f22ff965f37f2e652623198a327">m_pEventRequestRpc</a> = <span class="keyword">new</span>  <a class="code" href="classdqm4hep_1_1core_1_1DimEventCollector.html#a7dbda6d040967bb25c83b2ad81640826">DimEventRequestRpc</a>(<span class="keyword">this</span>);</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;      <a class="code" href="classdqm4hep_1_1core_1_1DimEventCollector.html#a1c68397e475187d5bc4c59842c3e8aaa">m_pUpdateModeCommand</a> = <span class="keyword">new</span> DimCommand((<span class="stringliteral">&quot;DQM4HEP/EventCollector/&quot;</span> + <a class="code" href="classdqm4hep_1_1core_1_1DimEventCollector.html#a9fc6f35609ed81a6b4db599ef78578c4">getCollectorName</a>() + <span class="stringliteral">&quot;/UPDATE_MODE&quot;</span>).c_str(), <span class="stringliteral">&quot;I&quot;</span>, <span class="keyword">this</span>);</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;      <a class="code" href="classdqm4hep_1_1core_1_1DimEventCollector.html#a8a2da41608271528e331f89ca18021b3">m_pCollectEventCommand</a> = <span class="keyword">new</span> DimCommand((<span class="stringliteral">&quot;DQM4HEP/EventCollector/&quot;</span> + <a class="code" href="classdqm4hep_1_1core_1_1DimEventCollector.html#a9fc6f35609ed81a6b4db599ef78578c4">getCollectorName</a>() + <span class="stringliteral">&quot;/COLLECT_RAW_EVENT&quot;</span>).c_str(), <span class="stringliteral">&quot;C&quot;</span>, <span class="keyword">this</span>);</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;      <a class="code" href="classdqm4hep_1_1core_1_1DimEventCollector.html#a162c2283c2ac96285725a97dc499105f">m_pSubEventIdentifierCommand</a> = <span class="keyword">new</span> DimCommand((<span class="stringliteral">&quot;DQM4HEP/EventCollector/&quot;</span> + <a class="code" href="classdqm4hep_1_1core_1_1DimEventCollector.html#a9fc6f35609ed81a6b4db599ef78578c4">getCollectorName</a>() + <span class="stringliteral">&quot;/SUB_EVENT_IDENTIFIER&quot;</span>).c_str(), <span class="stringliteral">&quot;C&quot;</span>, <span class="keyword">this</span>);</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;      <a class="code" href="classdqm4hep_1_1core_1_1DimEventCollector.html#a7048327696e75a9ec0556ff0687432e7">m_pClientRegitrationCommand</a> = <span class="keyword">new</span> DimCommand((<span class="stringliteral">&quot;DQM4HEP/EventCollector/&quot;</span> + <a class="code" href="classdqm4hep_1_1core_1_1DimEventCollector.html#a9fc6f35609ed81a6b4db599ef78578c4">getCollectorName</a>() + <span class="stringliteral">&quot;/CLIENT_REGISTRATION&quot;</span>).c_str(), <span class="stringliteral">&quot;I&quot;</span>, <span class="keyword">this</span>);</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;      <a class="code" href="classdqm4hep_1_1core_1_1DimEventCollector.html#a9a777dd4dd235f1572eb012d32f39ddb">m_pEventUpdateService</a> = <span class="keyword">new</span> DimService((<span class="stringliteral">&quot;DQM4HEP/EventCollector/&quot;</span> + <a class="code" href="classdqm4hep_1_1core_1_1DimEventCollector.html#a9fc6f35609ed81a6b4db599ef78578c4">getCollectorName</a>() + <span class="stringliteral">&quot;/EVENT_RAW_UPDATE&quot;</span>).c_str(), <span class="stringliteral">&quot;C&quot;</span>,</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;          (<span class="keywordtype">void</span>*) &amp;<a class="code" href="namespacedqm4hep_1_1core.html#a64ee4dd6c4100c60f9bc345c6ec7c7ba">DimEventCollector_emptyBuffer</a>[0], <a class="code" href="namespacedqm4hep_1_1core.html#acb479d88505f0d06c5859ab2e48e1004">DimEventCollector_emptyBufferSize</a>);</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;      <a class="code" href="classdqm4hep_1_1core_1_1DimEventCollector.html#a7d39789cdf38a172510219865bf8e0a6">m_pStatisticsService</a> = <span class="keyword">new</span> StatisticsService(<span class="stringliteral">&quot;DQM4HEP/EventCollector/&quot;</span> + <a class="code" href="classdqm4hep_1_1core_1_1DimEventCollector.html#a9fc6f35609ed81a6b4db599ef78578c4">getCollectorName</a>() + <span class="stringliteral">&quot;/STATS&quot;</span>);</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;      <a class="code" href="classdqm4hep_1_1core_1_1DimEventCollector.html#ac788ba401e7ee0096ae16b0c078c1290">m_pClientRegisteredService</a> = <span class="keyword">new</span> DimService((<span class="stringliteral">&quot;DQM4HEP/EventCollector/&quot;</span> + <a class="code" href="classdqm4hep_1_1core_1_1DimEventCollector.html#a9fc6f35609ed81a6b4db599ef78578c4">getCollectorName</a>() + <span class="stringliteral">&quot;/CLIENT_REGISTERED&quot;</span>).c_str(), <a class="code" href="classdqm4hep_1_1core_1_1DimEventCollector.html#a101ace256f7a25a2b9c06cfd2b084ba8">m_clientRegisteredId</a>);</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;      <a class="code" href="classdqm4hep_1_1core_1_1DimEventCollector.html#ab861d1f83703b274c90d5f501e9d7f5e">m_pServerStateService</a> = <span class="keyword">new</span> DimService((<span class="stringliteral">&quot;DQM4HEP/EventCollector/&quot;</span> + <a class="code" href="classdqm4hep_1_1core_1_1DimEventCollector.html#a9fc6f35609ed81a6b4db599ef78578c4">getCollectorName</a>() + <span class="stringliteral">&quot;/SERVER_STATE&quot;</span>).c_str(), <a class="code" href="classdqm4hep_1_1core_1_1DimEventCollector.html#a8e7cae4f41dfc624e6ddccb5cb3b16d3">m_state</a>);</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;      <span class="comment">// inform clients that the server is available for registrations</span></div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;      LOG4CXX_INFO( dqmMainLogger , <span class="stringliteral">&quot;Changing server application to running !&quot;</span> );</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;      DimServer::start( (<span class="stringliteral">&quot;DQM4HEP/EventCollector/&quot;</span> + <a class="code" href="classdqm4hep_1_1core_1_1DimEventCollector.html#a9fc6f35609ed81a6b4db599ef78578c4">getCollectorName</a>()).c_str() );</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;      <span class="comment">// time needed for registration on dns node</span></div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;      CoreTool::sleep(std::chrono::seconds(1));</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;      <a class="code" href="classdqm4hep_1_1core_1_1DimEventCollector.html#a8e7cae4f41dfc624e6ddccb5cb3b16d3">m_state</a> = 1;</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;      <a class="code" href="classdqm4hep_1_1core_1_1DimEventCollector.html#ab861d1f83703b274c90d5f501e9d7f5e">m_pServerStateService</a>-&gt;updateService(<a class="code" href="classdqm4hep_1_1core_1_1DimEventCollector.html#a8e7cae4f41dfc624e6ddccb5cb3b16d3">m_state</a>);</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;      <a class="code" href="classdqm4hep_1_1core_1_1DimEventCollector.html#a16c4e57f4d9c25086612b6a5186a1c46">m_isRunning</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;      <span class="keywordflow">return</span> STATUS_CODE_SUCCESS;</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;    }</div>
<div class="ttc" id="classdqm4hep_1_1core_1_1DimEventCollector_html_aba7007c11d7b4cc4164a5f2e46af9b51"><div class="ttname"><a href="classdqm4hep_1_1core_1_1DimEventCollector.html#aba7007c11d7b4cc4164a5f2e46af9b51">dqm4hep::core::DimEventCollector::isRunning</a></div><div class="ttdeci">bool isRunning() const </div><div class="ttdoc">Whether the collector server is running. </div><div class="ttdef"><b>Definition:</b> <a href="DimEventCollector_8cc_source.html#l00118">DimEventCollector.cc:118</a></div></div>
<div class="ttc" id="classdqm4hep_1_1core_1_1DimEventCollector_html_a9fc6f35609ed81a6b4db599ef78578c4"><div class="ttname"><a href="classdqm4hep_1_1core_1_1DimEventCollector.html#a9fc6f35609ed81a6b4db599ef78578c4">dqm4hep::core::DimEventCollector::getCollectorName</a></div><div class="ttdeci">const std::string &amp; getCollectorName() const </div><div class="ttdoc">Get the collector name. </div><div class="ttdef"><b>Definition:</b> <a href="DimEventCollector_8cc_source.html#l00111">DimEventCollector.cc:111</a></div></div>
<div class="ttc" id="classdqm4hep_1_1core_1_1DimEventCollector_html_a7d39789cdf38a172510219865bf8e0a6"><div class="ttname"><a href="classdqm4hep_1_1core_1_1DimEventCollector.html#a7d39789cdf38a172510219865bf8e0a6">dqm4hep::core::DimEventCollector::m_pStatisticsService</a></div><div class="ttdeci">StatisticsService * m_pStatisticsService</div><div class="ttdef"><b>Definition:</b> <a href="DimEventCollector_8h_source.html#l00173">DimEventCollector.h:173</a></div></div>
<div class="ttc" id="classdqm4hep_1_1core_1_1DimEventCollector_html_a7dbda6d040967bb25c83b2ad81640826"><div class="ttname"><a href="classdqm4hep_1_1core_1_1DimEventCollector.html#a7dbda6d040967bb25c83b2ad81640826">dqm4hep::core::DimEventCollector::DimEventRequestRpc</a></div><div class="ttdeci">friend class DimEventRequestRpc</div><div class="ttdef"><b>Definition:</b> <a href="DimEventCollector_8h_source.html#l00073">DimEventCollector.h:73</a></div></div>
<div class="ttc" id="classdqm4hep_1_1core_1_1DimEventCollector_html_ab861d1f83703b274c90d5f501e9d7f5e"><div class="ttname"><a href="classdqm4hep_1_1core_1_1DimEventCollector.html#ab861d1f83703b274c90d5f501e9d7f5e">dqm4hep::core::DimEventCollector::m_pServerStateService</a></div><div class="ttdeci">DimService * m_pServerStateService</div><div class="ttdef"><b>Definition:</b> <a href="DimEventCollector_8h_source.html#l00170">DimEventCollector.h:170</a></div></div>
<div class="ttc" id="namespacedqm4hep_1_1core_html_acb479d88505f0d06c5859ab2e48e1004"><div class="ttname"><a href="namespacedqm4hep_1_1core.html#acb479d88505f0d06c5859ab2e48e1004">dqm4hep::core::DimEventCollector_emptyBufferSize</a></div><div class="ttdeci">static const uint32_t DimEventCollector_emptyBufferSize</div><div class="ttdef"><b>Definition:</b> <a href="DimEventCollector_8cc_source.html#l00039">DimEventCollector.cc:39</a></div></div>
<div class="ttc" id="classdqm4hep_1_1core_1_1DimEventCollector_html_a9a777dd4dd235f1572eb012d32f39ddb"><div class="ttname"><a href="classdqm4hep_1_1core_1_1DimEventCollector.html#a9a777dd4dd235f1572eb012d32f39ddb">dqm4hep::core::DimEventCollector::m_pEventUpdateService</a></div><div class="ttdeci">DimService * m_pEventUpdateService</div><div class="ttdef"><b>Definition:</b> <a href="DimEventCollector_8h_source.html#l00172">DimEventCollector.h:172</a></div></div>
<div class="ttc" id="classdqm4hep_1_1core_1_1DimEventCollector_html_a1c68397e475187d5bc4c59842c3e8aaa"><div class="ttname"><a href="classdqm4hep_1_1core_1_1DimEventCollector.html#a1c68397e475187d5bc4c59842c3e8aaa">dqm4hep::core::DimEventCollector::m_pUpdateModeCommand</a></div><div class="ttdeci">DimCommand * m_pUpdateModeCommand</div><div class="ttdef"><b>Definition:</b> <a href="DimEventCollector_8h_source.html#l00177">DimEventCollector.h:177</a></div></div>
<div class="ttc" id="classdqm4hep_1_1core_1_1DimEventCollector_html_a162c2283c2ac96285725a97dc499105f"><div class="ttname"><a href="classdqm4hep_1_1core_1_1DimEventCollector.html#a162c2283c2ac96285725a97dc499105f">dqm4hep::core::DimEventCollector::m_pSubEventIdentifierCommand</a></div><div class="ttdeci">DimCommand * m_pSubEventIdentifierCommand</div><div class="ttdef"><b>Definition:</b> <a href="DimEventCollector_8h_source.html#l00178">DimEventCollector.h:178</a></div></div>
<div class="ttc" id="classdqm4hep_1_1core_1_1DimEventCollector_html_ac788ba401e7ee0096ae16b0c078c1290"><div class="ttname"><a href="classdqm4hep_1_1core_1_1DimEventCollector.html#ac788ba401e7ee0096ae16b0c078c1290">dqm4hep::core::DimEventCollector::m_pClientRegisteredService</a></div><div class="ttdeci">DimService * m_pClientRegisteredService</div><div class="ttdef"><b>Definition:</b> <a href="DimEventCollector_8h_source.html#l00171">DimEventCollector.h:171</a></div></div>
<div class="ttc" id="classdqm4hep_1_1core_1_1DimEventCollector_html_a16c4e57f4d9c25086612b6a5186a1c46"><div class="ttname"><a href="classdqm4hep_1_1core_1_1DimEventCollector.html#a16c4e57f4d9c25086612b6a5186a1c46">dqm4hep::core::DimEventCollector::m_isRunning</a></div><div class="ttdeci">bool m_isRunning</div><div class="ttdef"><b>Definition:</b> <a href="DimEventCollector_8h_source.html#l00165">DimEventCollector.h:165</a></div></div>
<div class="ttc" id="namespacedqm4hep_1_1core_html_a64ee4dd6c4100c60f9bc345c6ec7c7ba"><div class="ttname"><a href="namespacedqm4hep_1_1core.html#a64ee4dd6c4100c60f9bc345c6ec7c7ba">dqm4hep::core::DimEventCollector_emptyBuffer</a></div><div class="ttdeci">static const char DimEventCollector_emptyBuffer[]</div><div class="ttdef"><b>Definition:</b> <a href="DimEventCollector_8cc_source.html#l00038">DimEventCollector.cc:38</a></div></div>
<div class="ttc" id="classdqm4hep_1_1core_1_1DimEventCollector_html_a7048327696e75a9ec0556ff0687432e7"><div class="ttname"><a href="classdqm4hep_1_1core_1_1DimEventCollector.html#a7048327696e75a9ec0556ff0687432e7">dqm4hep::core::DimEventCollector::m_pClientRegitrationCommand</a></div><div class="ttdeci">DimCommand * m_pClientRegitrationCommand</div><div class="ttdef"><b>Definition:</b> <a href="DimEventCollector_8h_source.html#l00179">DimEventCollector.h:179</a></div></div>
<div class="ttc" id="classdqm4hep_1_1core_1_1DimEventCollector_html_a8a2da41608271528e331f89ca18021b3"><div class="ttname"><a href="classdqm4hep_1_1core_1_1DimEventCollector.html#a8a2da41608271528e331f89ca18021b3">dqm4hep::core::DimEventCollector::m_pCollectEventCommand</a></div><div class="ttdeci">DimCommand * m_pCollectEventCommand</div><div class="ttdef"><b>Definition:</b> <a href="DimEventCollector_8h_source.html#l00176">DimEventCollector.h:176</a></div></div>
<div class="ttc" id="classdqm4hep_1_1core_1_1DimEventCollector_html_a8e7cae4f41dfc624e6ddccb5cb3b16d3"><div class="ttname"><a href="classdqm4hep_1_1core_1_1DimEventCollector.html#a8e7cae4f41dfc624e6ddccb5cb3b16d3">dqm4hep::core::DimEventCollector::m_state</a></div><div class="ttdeci">int m_state</div><div class="ttdef"><b>Definition:</b> <a href="DimEventCollector_8h_source.html#l00166">DimEventCollector.h:166</a></div></div>
<div class="ttc" id="classdqm4hep_1_1core_1_1DimEventCollector_html_a101ace256f7a25a2b9c06cfd2b084ba8"><div class="ttname"><a href="classdqm4hep_1_1core_1_1DimEventCollector.html#a101ace256f7a25a2b9c06cfd2b084ba8">dqm4hep::core::DimEventCollector::m_clientRegisteredId</a></div><div class="ttdeci">int m_clientRegisteredId</div><div class="ttdef"><b>Definition:</b> <a href="DimEventCollector_8h_source.html#l00167">DimEventCollector.h:167</a></div></div>
<div class="ttc" id="classdqm4hep_1_1core_1_1DimEventCollector_html_aecac8f22ff965f37f2e652623198a327"><div class="ttname"><a href="classdqm4hep_1_1core_1_1DimEventCollector.html#aecac8f22ff965f37f2e652623198a327">dqm4hep::core::DimEventCollector::m_pEventRequestRpc</a></div><div class="ttdeci">DimEventRequestRpc * m_pEventRequestRpc</div><div class="ttdef"><b>Definition:</b> <a href="DimEventCollector_8h_source.html#l00182">DimEventCollector.h:182</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="adda4bfb76c1c1ffefc9e51e3e88d2e53"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">StatusCode dqm4hep::core::DimEventCollector::stopCollector </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Stop the collector server. </p>

<p>Implements <a class="el" href="classdqm4hep_1_1core_1_1EventCollectorImp.html#a60e4917ae0fd3c1b89eb7a09338ebb3f">dqm4hep::core::EventCollectorImp</a>.</p>

<p>Definition at line <a class="el" href="DimEventCollector_8cc_source.html#l00162">162</a> of file <a class="el" href="DimEventCollector_8cc_source.html">DimEventCollector.cc</a>.</p>

<p>References <a class="el" href="DimEventCollector_8cc_source.html#l00118">isRunning()</a>, <a class="el" href="DimEventCollector_8h_source.html#l00165">m_isRunning</a>, <a class="el" href="DimEventCollector_8h_source.html#l00184">m_pBuffer</a>, <a class="el" href="DimEventCollector_8h_source.html#l00171">m_pClientRegisteredService</a>, <a class="el" href="DimEventCollector_8h_source.html#l00179">m_pClientRegitrationCommand</a>, <a class="el" href="DimEventCollector_8h_source.html#l00176">m_pCollectEventCommand</a>, <a class="el" href="DimEventCollector_8h_source.html#l00182">m_pEventRequestRpc</a>, <a class="el" href="DimEventCollector_8h_source.html#l00172">m_pEventUpdateService</a>, <a class="el" href="DimEventCollector_8h_source.html#l00170">m_pServerStateService</a>, <a class="el" href="DimEventCollector_8h_source.html#l00173">m_pStatisticsService</a>, <a class="el" href="DimEventCollector_8h_source.html#l00178">m_pSubEventIdentifierCommand</a>, <a class="el" href="DimEventCollector_8h_source.html#l00177">m_pUpdateModeCommand</a>, and <a class="el" href="DimEventCollector_8h_source.html#l00166">m_state</a>.</p>

<p>Referenced by <a class="el" href="DimEventCollector_8cc_source.html#l00080">~DimEventCollector()</a>.</p>
<div class="fragment"><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;    {</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;      <span class="keywordflow">if</span>(!this-&gt;<a class="code" href="classdqm4hep_1_1core_1_1DimEventCollector.html#aba7007c11d7b4cc4164a5f2e46af9b51">isRunning</a>())</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;        <span class="keywordflow">return</span> STATUS_CODE_SUCCESS;</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;      <a class="code" href="classdqm4hep_1_1core_1_1DimEventCollector.html#a8e7cae4f41dfc624e6ddccb5cb3b16d3">m_state</a> = 0;</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;      <span class="comment">// inform clients that the server is shut down</span></div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;      <a class="code" href="classdqm4hep_1_1core_1_1DimEventCollector.html#ab861d1f83703b274c90d5f501e9d7f5e">m_pServerStateService</a>-&gt;updateService(<a class="code" href="classdqm4hep_1_1core_1_1DimEventCollector.html#a8e7cae4f41dfc624e6ddccb5cb3b16d3">m_state</a>);</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;      <span class="keyword">delete</span> <a class="code" href="classdqm4hep_1_1core_1_1DimEventCollector.html#a8a2da41608271528e331f89ca18021b3">m_pCollectEventCommand</a>;</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;      <span class="keyword">delete</span> <a class="code" href="classdqm4hep_1_1core_1_1DimEventCollector.html#a1c68397e475187d5bc4c59842c3e8aaa">m_pUpdateModeCommand</a>;</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;      <span class="keyword">delete</span> <a class="code" href="classdqm4hep_1_1core_1_1DimEventCollector.html#a162c2283c2ac96285725a97dc499105f">m_pSubEventIdentifierCommand</a>;</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;      <span class="keyword">delete</span> <a class="code" href="classdqm4hep_1_1core_1_1DimEventCollector.html#a7048327696e75a9ec0556ff0687432e7">m_pClientRegitrationCommand</a>;</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;      <span class="keyword">delete</span> <a class="code" href="classdqm4hep_1_1core_1_1DimEventCollector.html#a9a777dd4dd235f1572eb012d32f39ddb">m_pEventUpdateService</a>;</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;      <span class="keyword">delete</span> <a class="code" href="classdqm4hep_1_1core_1_1DimEventCollector.html#a7d39789cdf38a172510219865bf8e0a6">m_pStatisticsService</a>;</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;      <span class="keyword">delete</span> <a class="code" href="classdqm4hep_1_1core_1_1DimEventCollector.html#ac788ba401e7ee0096ae16b0c078c1290">m_pClientRegisteredService</a>;</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;      <span class="keyword">delete</span> <a class="code" href="classdqm4hep_1_1core_1_1DimEventCollector.html#ab861d1f83703b274c90d5f501e9d7f5e">m_pServerStateService</a>;</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;      <span class="keyword">delete</span> <a class="code" href="classdqm4hep_1_1core_1_1DimEventCollector.html#aecac8f22ff965f37f2e652623198a327">m_pEventRequestRpc</a>;</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;      <a class="code" href="classdqm4hep_1_1core_1_1DimEventCollector.html#a96fe309d91f27a426b793e75126fbe41">m_pBuffer</a>-&gt;reset();</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;      <a class="code" href="classdqm4hep_1_1core_1_1DimEventCollector.html#a16c4e57f4d9c25086612b6a5186a1c46">m_isRunning</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;      <span class="keywordflow">return</span> STATUS_CODE_SUCCESS;</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;    }</div>
<div class="ttc" id="classdqm4hep_1_1core_1_1DimEventCollector_html_aba7007c11d7b4cc4164a5f2e46af9b51"><div class="ttname"><a href="classdqm4hep_1_1core_1_1DimEventCollector.html#aba7007c11d7b4cc4164a5f2e46af9b51">dqm4hep::core::DimEventCollector::isRunning</a></div><div class="ttdeci">bool isRunning() const </div><div class="ttdoc">Whether the collector server is running. </div><div class="ttdef"><b>Definition:</b> <a href="DimEventCollector_8cc_source.html#l00118">DimEventCollector.cc:118</a></div></div>
<div class="ttc" id="classdqm4hep_1_1core_1_1DimEventCollector_html_a7d39789cdf38a172510219865bf8e0a6"><div class="ttname"><a href="classdqm4hep_1_1core_1_1DimEventCollector.html#a7d39789cdf38a172510219865bf8e0a6">dqm4hep::core::DimEventCollector::m_pStatisticsService</a></div><div class="ttdeci">StatisticsService * m_pStatisticsService</div><div class="ttdef"><b>Definition:</b> <a href="DimEventCollector_8h_source.html#l00173">DimEventCollector.h:173</a></div></div>
<div class="ttc" id="classdqm4hep_1_1core_1_1DimEventCollector_html_ab861d1f83703b274c90d5f501e9d7f5e"><div class="ttname"><a href="classdqm4hep_1_1core_1_1DimEventCollector.html#ab861d1f83703b274c90d5f501e9d7f5e">dqm4hep::core::DimEventCollector::m_pServerStateService</a></div><div class="ttdeci">DimService * m_pServerStateService</div><div class="ttdef"><b>Definition:</b> <a href="DimEventCollector_8h_source.html#l00170">DimEventCollector.h:170</a></div></div>
<div class="ttc" id="classdqm4hep_1_1core_1_1DimEventCollector_html_a9a777dd4dd235f1572eb012d32f39ddb"><div class="ttname"><a href="classdqm4hep_1_1core_1_1DimEventCollector.html#a9a777dd4dd235f1572eb012d32f39ddb">dqm4hep::core::DimEventCollector::m_pEventUpdateService</a></div><div class="ttdeci">DimService * m_pEventUpdateService</div><div class="ttdef"><b>Definition:</b> <a href="DimEventCollector_8h_source.html#l00172">DimEventCollector.h:172</a></div></div>
<div class="ttc" id="classdqm4hep_1_1core_1_1DimEventCollector_html_a1c68397e475187d5bc4c59842c3e8aaa"><div class="ttname"><a href="classdqm4hep_1_1core_1_1DimEventCollector.html#a1c68397e475187d5bc4c59842c3e8aaa">dqm4hep::core::DimEventCollector::m_pUpdateModeCommand</a></div><div class="ttdeci">DimCommand * m_pUpdateModeCommand</div><div class="ttdef"><b>Definition:</b> <a href="DimEventCollector_8h_source.html#l00177">DimEventCollector.h:177</a></div></div>
<div class="ttc" id="classdqm4hep_1_1core_1_1DimEventCollector_html_a162c2283c2ac96285725a97dc499105f"><div class="ttname"><a href="classdqm4hep_1_1core_1_1DimEventCollector.html#a162c2283c2ac96285725a97dc499105f">dqm4hep::core::DimEventCollector::m_pSubEventIdentifierCommand</a></div><div class="ttdeci">DimCommand * m_pSubEventIdentifierCommand</div><div class="ttdef"><b>Definition:</b> <a href="DimEventCollector_8h_source.html#l00178">DimEventCollector.h:178</a></div></div>
<div class="ttc" id="classdqm4hep_1_1core_1_1DimEventCollector_html_ac788ba401e7ee0096ae16b0c078c1290"><div class="ttname"><a href="classdqm4hep_1_1core_1_1DimEventCollector.html#ac788ba401e7ee0096ae16b0c078c1290">dqm4hep::core::DimEventCollector::m_pClientRegisteredService</a></div><div class="ttdeci">DimService * m_pClientRegisteredService</div><div class="ttdef"><b>Definition:</b> <a href="DimEventCollector_8h_source.html#l00171">DimEventCollector.h:171</a></div></div>
<div class="ttc" id="classdqm4hep_1_1core_1_1DimEventCollector_html_a16c4e57f4d9c25086612b6a5186a1c46"><div class="ttname"><a href="classdqm4hep_1_1core_1_1DimEventCollector.html#a16c4e57f4d9c25086612b6a5186a1c46">dqm4hep::core::DimEventCollector::m_isRunning</a></div><div class="ttdeci">bool m_isRunning</div><div class="ttdef"><b>Definition:</b> <a href="DimEventCollector_8h_source.html#l00165">DimEventCollector.h:165</a></div></div>
<div class="ttc" id="classdqm4hep_1_1core_1_1DimEventCollector_html_a7048327696e75a9ec0556ff0687432e7"><div class="ttname"><a href="classdqm4hep_1_1core_1_1DimEventCollector.html#a7048327696e75a9ec0556ff0687432e7">dqm4hep::core::DimEventCollector::m_pClientRegitrationCommand</a></div><div class="ttdeci">DimCommand * m_pClientRegitrationCommand</div><div class="ttdef"><b>Definition:</b> <a href="DimEventCollector_8h_source.html#l00179">DimEventCollector.h:179</a></div></div>
<div class="ttc" id="classdqm4hep_1_1core_1_1DimEventCollector_html_a8a2da41608271528e331f89ca18021b3"><div class="ttname"><a href="classdqm4hep_1_1core_1_1DimEventCollector.html#a8a2da41608271528e331f89ca18021b3">dqm4hep::core::DimEventCollector::m_pCollectEventCommand</a></div><div class="ttdeci">DimCommand * m_pCollectEventCommand</div><div class="ttdef"><b>Definition:</b> <a href="DimEventCollector_8h_source.html#l00176">DimEventCollector.h:176</a></div></div>
<div class="ttc" id="classdqm4hep_1_1core_1_1DimEventCollector_html_a8e7cae4f41dfc624e6ddccb5cb3b16d3"><div class="ttname"><a href="classdqm4hep_1_1core_1_1DimEventCollector.html#a8e7cae4f41dfc624e6ddccb5cb3b16d3">dqm4hep::core::DimEventCollector::m_state</a></div><div class="ttdeci">int m_state</div><div class="ttdef"><b>Definition:</b> <a href="DimEventCollector_8h_source.html#l00166">DimEventCollector.h:166</a></div></div>
<div class="ttc" id="classdqm4hep_1_1core_1_1DimEventCollector_html_a96fe309d91f27a426b793e75126fbe41"><div class="ttname"><a href="classdqm4hep_1_1core_1_1DimEventCollector.html#a96fe309d91f27a426b793e75126fbe41">dqm4hep::core::DimEventCollector::m_pBuffer</a></div><div class="ttdeci">xdrstream::BufferDevice * m_pBuffer</div><div class="ttdef"><b>Definition:</b> <a href="DimEventCollector_8h_source.html#l00184">DimEventCollector.h:184</a></div></div>
<div class="ttc" id="classdqm4hep_1_1core_1_1DimEventCollector_html_aecac8f22ff965f37f2e652623198a327"><div class="ttname"><a href="classdqm4hep_1_1core_1_1DimEventCollector.html#aecac8f22ff965f37f2e652623198a327">dqm4hep::core::DimEventCollector::m_pEventRequestRpc</a></div><div class="ttdeci">DimEventRequestRpc * m_pEventRequestRpc</div><div class="ttdef"><b>Definition:</b> <a href="DimEventCollector_8h_source.html#l00182">DimEventCollector.h:182</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a1740237d5381c3f29238496b2190e815"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void dqm4hep::core::DimEventCollector::updateEventService </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Update the event service for clients that have specified an update mode. </p>

<p>Definition at line <a class="el" href="DimEventCollector_8cc_source.html#l00387">387</a> of file <a class="el" href="DimEventCollector_8cc_source.html">DimEventCollector.cc</a>.</p>

<p>References <a class="el" href="DimEventCollector_8cc_source.html#l00118">isRunning()</a>, <a class="el" href="DimEventCollector_8h_source.html#l00190">m_clientMap</a>, <a class="el" href="DimEventCollector_8h_source.html#l00184">m_pBuffer</a>, <a class="el" href="DimEventCollector_8h_source.html#l00188">m_pCurrentEvent</a>, <a class="el" href="DimEventCollector_8h_source.html#l00187">m_pEventStreamer</a>, <a class="el" href="DimEventCollector_8h_source.html#l00172">m_pEventUpdateService</a>, and <a class="el" href="DimEventCollector_8h_source.html#l00185">m_pSubEventBuffer</a>.</p>

<p>Referenced by <a class="el" href="DimEventCollector_8cc_source.html#l00209">handleEventReception()</a>.</p>
<div class="fragment"><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;    {</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;      <span class="comment">// if not running, do not update</span></div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;      <span class="keywordflow">if</span>(!<a class="code" href="classdqm4hep_1_1core_1_1DimEventCollector.html#aba7007c11d7b4cc4164a5f2e46af9b51">isRunning</a>())</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;      <span class="comment">// event available ?</span></div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;      <span class="keywordflow">if</span>(NULL == <a class="code" href="classdqm4hep_1_1core_1_1DimEventCollector.html#a96fe309d91f27a426b793e75126fbe41">m_pBuffer</a>)</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;      {</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;        LOG4CXX_DEBUG( dqmMainLogger , <span class="stringliteral">&quot;Buffer device is null&quot;</span> );</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;      }</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;      <span class="keywordflow">if</span>(NULL == <a class="code" href="classdqm4hep_1_1core_1_1DimEventCollector.html#a96fe309d91f27a426b793e75126fbe41">m_pBuffer</a>-&gt;getBuffer())</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;      {</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;        LOG4CXX_DEBUG( dqmMainLogger , <span class="stringliteral">&quot;Buffer is null&quot;</span> );</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;      }</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;      <span class="keywordflow">if</span>( 0 == <a class="code" href="classdqm4hep_1_1core_1_1DimEventCollector.html#a96fe309d91f27a426b793e75126fbe41">m_pBuffer</a>-&gt;getBufferSize() )</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;      {</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;        LOG4CXX_DEBUG( dqmMainLogger , <span class="stringliteral">&quot;Buffer position is 0&quot;</span> );</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;      }</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;      <span class="keywordtype">int</span> *clientIds = <span class="keyword">new</span> <span class="keywordtype">int</span>[<a class="code" href="classdqm4hep_1_1core_1_1DimEventCollector.html#aadf5d9562301fb398cb7448464191984">m_clientMap</a>.size()];</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;      memset(&amp;clientIds[0], 0, <a class="code" href="classdqm4hep_1_1core_1_1DimEventCollector.html#aadf5d9562301fb398cb7448464191984">m_clientMap</a>.size());</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;      <span class="keywordtype">int</span> currentId = 0;</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;      <span class="keywordflow">for</span>(ClientMap::iterator iter = <a class="code" href="classdqm4hep_1_1core_1_1DimEventCollector.html#aadf5d9562301fb398cb7448464191984">m_clientMap</a>.begin(), endIter = <a class="code" href="classdqm4hep_1_1core_1_1DimEventCollector.html#aadf5d9562301fb398cb7448464191984">m_clientMap</a>.end() ;</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;          endIter != iter ; ++iter)</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;      {</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;        <span class="comment">// check for update mode</span></div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;        <span class="keywordflow">if</span>(!iter-&gt;second.m_updateMode)</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;          <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;        <span class="comment">// specific case where the client has queried a sub part of the event</span></div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;        <span class="keywordflow">if</span>(!iter-&gt;second.m_subEventIdentifier.empty()</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;            &amp;&amp; (NULL != <a class="code" href="classdqm4hep_1_1core_1_1DimEventCollector.html#a86309d90d1fead2c67bf5e948defd04d">m_pEventStreamer</a> &amp;&amp; NULL != <a class="code" href="classdqm4hep_1_1core_1_1DimEventCollector.html#af1b8393fcdda3bf83d8121b88237157f">m_pCurrentEvent</a>))</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;        {</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;          <span class="comment">// try to serialize the sub event</span></div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;          <a class="code" href="classdqm4hep_1_1core_1_1DimEventCollector.html#a867891d8d31779f629177c3e9f495717">m_pSubEventBuffer</a>-&gt;reset();</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;          <span class="keywordflow">if</span>(STATUS_CODE_SUCCESS != <a class="code" href="classdqm4hep_1_1core_1_1DimEventCollector.html#a86309d90d1fead2c67bf5e948defd04d">m_pEventStreamer</a>-&gt;write(<a class="code" href="classdqm4hep_1_1core_1_1DimEventCollector.html#af1b8393fcdda3bf83d8121b88237157f">m_pCurrentEvent</a>, iter-&gt;second.m_subEventIdentifier, <a class="code" href="classdqm4hep_1_1core_1_1DimEventCollector.html#a867891d8d31779f629177c3e9f495717">m_pSubEventBuffer</a>))</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;          {</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;            LOG4CXX_WARN( dqmMainLogger , <span class="stringliteral">&quot;Couldn&#39;t write event (sub event serialization)&quot;</span> );</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;          }</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;          dqm_char *pEventBuffer = <a class="code" href="classdqm4hep_1_1core_1_1DimEventCollector.html#a867891d8d31779f629177c3e9f495717">m_pSubEventBuffer</a>-&gt;getBuffer();</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;          <span class="keywordtype">int</span> bufferSize = <a class="code" href="classdqm4hep_1_1core_1_1DimEventCollector.html#a867891d8d31779f629177c3e9f495717">m_pSubEventBuffer</a>-&gt;getPosition();</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;          <span class="keywordflow">if</span>(NULL == pEventBuffer || 0 == bufferSize)</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;          <span class="keywordtype">int</span> clientIdArray[2];</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;          clientIdArray[0] = iter-&gt;first;</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;          clientIdArray[1] = 0;</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;          <a class="code" href="classdqm4hep_1_1core_1_1DimEventCollector.html#a9a777dd4dd235f1572eb012d32f39ddb">m_pEventUpdateService</a>-&gt;selectiveUpdateService((<span class="keywordtype">void</span> *) pEventBuffer, bufferSize, &amp;clientIdArray[0]);</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;          <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;        }</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;        clientIds[currentId] = iter-&gt;first;</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;        currentId ++;</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;      }</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;      <span class="keywordflow">if</span>(currentId != 0)</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;      {</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;        LOG4CXX_DEBUG( dqmMainLogger , <span class="stringliteral">&quot;Sending updates to &quot;</span> &lt;&lt; currentId &lt;&lt; <span class="stringliteral">&quot; clients !&quot;</span> );</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;        <a class="code" href="classdqm4hep_1_1core_1_1DimEventCollector.html#a9a777dd4dd235f1572eb012d32f39ddb">m_pEventUpdateService</a>-&gt;selectiveUpdateService((<span class="keywordtype">void</span> *) <a class="code" href="classdqm4hep_1_1core_1_1DimEventCollector.html#a96fe309d91f27a426b793e75126fbe41">m_pBuffer</a>-&gt;getBuffer(), <a class="code" href="classdqm4hep_1_1core_1_1DimEventCollector.html#a96fe309d91f27a426b793e75126fbe41">m_pBuffer</a>-&gt;getBufferSize(), clientIds);</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;      }</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;      <span class="keyword">delete</span> [] clientIds;</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;    }</div>
<div class="ttc" id="classdqm4hep_1_1core_1_1DimEventCollector_html_aba7007c11d7b4cc4164a5f2e46af9b51"><div class="ttname"><a href="classdqm4hep_1_1core_1_1DimEventCollector.html#aba7007c11d7b4cc4164a5f2e46af9b51">dqm4hep::core::DimEventCollector::isRunning</a></div><div class="ttdeci">bool isRunning() const </div><div class="ttdoc">Whether the collector server is running. </div><div class="ttdef"><b>Definition:</b> <a href="DimEventCollector_8cc_source.html#l00118">DimEventCollector.cc:118</a></div></div>
<div class="ttc" id="classdqm4hep_1_1core_1_1DimEventCollector_html_a867891d8d31779f629177c3e9f495717"><div class="ttname"><a href="classdqm4hep_1_1core_1_1DimEventCollector.html#a867891d8d31779f629177c3e9f495717">dqm4hep::core::DimEventCollector::m_pSubEventBuffer</a></div><div class="ttdeci">xdrstream::BufferDevice * m_pSubEventBuffer</div><div class="ttdef"><b>Definition:</b> <a href="DimEventCollector_8h_source.html#l00185">DimEventCollector.h:185</a></div></div>
<div class="ttc" id="classdqm4hep_1_1core_1_1DimEventCollector_html_a86309d90d1fead2c67bf5e948defd04d"><div class="ttname"><a href="classdqm4hep_1_1core_1_1DimEventCollector.html#a86309d90d1fead2c67bf5e948defd04d">dqm4hep::core::DimEventCollector::m_pEventStreamer</a></div><div class="ttdeci">EventStreamer * m_pEventStreamer</div><div class="ttdef"><b>Definition:</b> <a href="DimEventCollector_8h_source.html#l00187">DimEventCollector.h:187</a></div></div>
<div class="ttc" id="classdqm4hep_1_1core_1_1DimEventCollector_html_a9a777dd4dd235f1572eb012d32f39ddb"><div class="ttname"><a href="classdqm4hep_1_1core_1_1DimEventCollector.html#a9a777dd4dd235f1572eb012d32f39ddb">dqm4hep::core::DimEventCollector::m_pEventUpdateService</a></div><div class="ttdeci">DimService * m_pEventUpdateService</div><div class="ttdef"><b>Definition:</b> <a href="DimEventCollector_8h_source.html#l00172">DimEventCollector.h:172</a></div></div>
<div class="ttc" id="classdqm4hep_1_1core_1_1DimEventCollector_html_aadf5d9562301fb398cb7448464191984"><div class="ttname"><a href="classdqm4hep_1_1core_1_1DimEventCollector.html#aadf5d9562301fb398cb7448464191984">dqm4hep::core::DimEventCollector::m_clientMap</a></div><div class="ttdeci">ClientMap m_clientMap</div><div class="ttdef"><b>Definition:</b> <a href="DimEventCollector_8h_source.html#l00190">DimEventCollector.h:190</a></div></div>
<div class="ttc" id="classdqm4hep_1_1core_1_1DimEventCollector_html_af1b8393fcdda3bf83d8121b88237157f"><div class="ttname"><a href="classdqm4hep_1_1core_1_1DimEventCollector.html#af1b8393fcdda3bf83d8121b88237157f">dqm4hep::core::DimEventCollector::m_pCurrentEvent</a></div><div class="ttdeci">Event * m_pCurrentEvent</div><div class="ttdef"><b>Definition:</b> <a href="DimEventCollector_8h_source.html#l00188">DimEventCollector.h:188</a></div></div>
<div class="ttc" id="classdqm4hep_1_1core_1_1DimEventCollector_html_a96fe309d91f27a426b793e75126fbe41"><div class="ttname"><a href="classdqm4hep_1_1core_1_1DimEventCollector.html#a96fe309d91f27a426b793e75126fbe41">dqm4hep::core::DimEventCollector::m_pBuffer</a></div><div class="ttdeci">xdrstream::BufferDevice * m_pBuffer</div><div class="ttdef"><b>Definition:</b> <a href="DimEventCollector_8h_source.html#l00184">DimEventCollector.h:184</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Friends And Related Function Documentation</h2>
<a class="anchor" id="a7dbda6d040967bb25c83b2ad81640826"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">friend class <a class="el" href="classdqm4hep_1_1core_1_1DimEventRequestRpc.html">DimEventRequestRpc</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">friend</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="DimEventCollector_8h_source.html#l00073">73</a> of file <a class="el" href="DimEventCollector_8h_source.html">DimEventCollector.h</a>.</p>

<p>Referenced by <a class="el" href="DimEventCollector_8cc_source.html#l00125">startCollector()</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="aadf5d9562301fb398cb7448464191984"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classdqm4hep_1_1core_1_1DimEventCollector.html#ae08784eb8859423c7d2a0c94d1648bce">ClientMap</a> dqm4hep::core::DimEventCollector::m_clientMap</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="DimEventCollector_8h_source.html#l00190">190</a> of file <a class="el" href="DimEventCollector_8h_source.html">DimEventCollector.h</a>.</p>

<p>Referenced by <a class="el" href="DimEventCollector_8cc_source.html#l00287">getClient()</a>, <a class="el" href="DimEventCollector_8cc_source.html#l00468">removeClient()</a>, and <a class="el" href="DimEventCollector_8cc_source.html#l00387">updateEventService()</a>.</p>

</div>
</div>
<a class="anchor" id="a101ace256f7a25a2b9c06cfd2b084ba8"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int dqm4hep::core::DimEventCollector::m_clientRegisteredId</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="DimEventCollector_8h_source.html#l00167">167</a> of file <a class="el" href="DimEventCollector_8h_source.html">DimEventCollector.h</a>.</p>

<p>Referenced by <a class="el" href="DimEventCollector_8cc_source.html#l00306">commandHandler()</a>, and <a class="el" href="DimEventCollector_8cc_source.html#l00125">startCollector()</a>.</p>

</div>
</div>
<a class="anchor" id="abc48b7dafa4f285ccf9b8e5e41e8e4be"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string dqm4hep::core::DimEventCollector::m_collectorName</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="DimEventCollector_8h_source.html#l00164">164</a> of file <a class="el" href="DimEventCollector_8h_source.html">DimEventCollector.h</a>.</p>

<p>Referenced by <a class="el" href="DimEventCollector_8cc_source.html#l00111">getCollectorName()</a>, and <a class="el" href="DimEventCollector_8cc_source.html#l00099">setCollectorName()</a>.</p>

</div>
</div>
<a class="anchor" id="a16c4e57f4d9c25086612b6a5186a1c46"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool dqm4hep::core::DimEventCollector::m_isRunning</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="DimEventCollector_8h_source.html#l00165">165</a> of file <a class="el" href="DimEventCollector_8h_source.html">DimEventCollector.h</a>.</p>

<p>Referenced by <a class="el" href="DimEventCollector_8cc_source.html#l00118">isRunning()</a>, <a class="el" href="DimEventCollector_8cc_source.html#l00125">startCollector()</a>, and <a class="el" href="DimEventCollector_8cc_source.html#l00162">stopCollector()</a>.</p>

</div>
</div>
<a class="anchor" id="a96fe309d91f27a426b793e75126fbe41"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">xdrstream::BufferDevice* dqm4hep::core::DimEventCollector::m_pBuffer</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="DimEventCollector_8h_source.html#l00184">184</a> of file <a class="el" href="DimEventCollector_8h_source.html">DimEventCollector.h</a>.</p>

<p>Referenced by <a class="el" href="DimEventCollector_8cc_source.html#l00485">configureBuffer()</a>, <a class="el" href="DimEventCollector_8cc_source.html#l00255">handleEventRequest()</a>, <a class="el" href="DimEventCollector_8cc_source.html#l00162">stopCollector()</a>, <a class="el" href="DimEventCollector_8cc_source.html#l00387">updateEventService()</a>, and <a class="el" href="DimEventCollector_8cc_source.html#l00080">~DimEventCollector()</a>.</p>

</div>
</div>
<a class="anchor" id="ac788ba401e7ee0096ae16b0c078c1290"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">DimService* dqm4hep::core::DimEventCollector::m_pClientRegisteredService</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="DimEventCollector_8h_source.html#l00171">171</a> of file <a class="el" href="DimEventCollector_8h_source.html">DimEventCollector.h</a>.</p>

<p>Referenced by <a class="el" href="DimEventCollector_8cc_source.html#l00306">commandHandler()</a>, <a class="el" href="DimEventCollector_8cc_source.html#l00125">startCollector()</a>, and <a class="el" href="DimEventCollector_8cc_source.html#l00162">stopCollector()</a>.</p>

</div>
</div>
<a class="anchor" id="a7048327696e75a9ec0556ff0687432e7"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">DimCommand* dqm4hep::core::DimEventCollector::m_pClientRegitrationCommand</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="DimEventCollector_8h_source.html#l00179">179</a> of file <a class="el" href="DimEventCollector_8h_source.html">DimEventCollector.h</a>.</p>

<p>Referenced by <a class="el" href="DimEventCollector_8cc_source.html#l00306">commandHandler()</a>, <a class="el" href="DimEventCollector_8cc_source.html#l00125">startCollector()</a>, and <a class="el" href="DimEventCollector_8cc_source.html#l00162">stopCollector()</a>.</p>

</div>
</div>
<a class="anchor" id="a8a2da41608271528e331f89ca18021b3"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">DimCommand* dqm4hep::core::DimEventCollector::m_pCollectEventCommand</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="DimEventCollector_8h_source.html#l00176">176</a> of file <a class="el" href="DimEventCollector_8h_source.html">DimEventCollector.h</a>.</p>

<p>Referenced by <a class="el" href="DimEventCollector_8cc_source.html#l00306">commandHandler()</a>, <a class="el" href="DimEventCollector_8cc_source.html#l00125">startCollector()</a>, and <a class="el" href="DimEventCollector_8cc_source.html#l00162">stopCollector()</a>.</p>

</div>
</div>
<a class="anchor" id="af1b8393fcdda3bf83d8121b88237157f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Event* dqm4hep::core::DimEventCollector::m_pCurrentEvent</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="DimEventCollector_8h_source.html#l00188">188</a> of file <a class="el" href="DimEventCollector_8h_source.html">DimEventCollector.h</a>.</p>

<p>Referenced by <a class="el" href="DimEventCollector_8cc_source.html#l00209">handleEventReception()</a>, <a class="el" href="DimEventCollector_8cc_source.html#l00255">handleEventRequest()</a>, <a class="el" href="DimEventCollector_8cc_source.html#l00387">updateEventService()</a>, and <a class="el" href="DimEventCollector_8cc_source.html#l00080">~DimEventCollector()</a>.</p>

</div>
</div>
<a class="anchor" id="aecac8f22ff965f37f2e652623198a327"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classdqm4hep_1_1core_1_1DimEventRequestRpc.html">DimEventRequestRpc</a>* dqm4hep::core::DimEventCollector::m_pEventRequestRpc</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="DimEventCollector_8h_source.html#l00182">182</a> of file <a class="el" href="DimEventCollector_8h_source.html">DimEventCollector.h</a>.</p>

<p>Referenced by <a class="el" href="DimEventCollector_8cc_source.html#l00125">startCollector()</a>, and <a class="el" href="DimEventCollector_8cc_source.html#l00162">stopCollector()</a>.</p>

</div>
</div>
<a class="anchor" id="a86309d90d1fead2c67bf5e948defd04d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">EventStreamer* dqm4hep::core::DimEventCollector::m_pEventStreamer</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="DimEventCollector_8h_source.html#l00187">187</a> of file <a class="el" href="DimEventCollector_8h_source.html">DimEventCollector.h</a>.</p>

<p>Referenced by <a class="el" href="DimEventCollector_8cc_source.html#l00202">getEventStreamer()</a>, <a class="el" href="DimEventCollector_8cc_source.html#l00209">handleEventReception()</a>, <a class="el" href="DimEventCollector_8cc_source.html#l00255">handleEventRequest()</a>, <a class="el" href="DimEventCollector_8cc_source.html#l00192">setEventStreamer()</a>, <a class="el" href="DimEventCollector_8cc_source.html#l00387">updateEventService()</a>, and <a class="el" href="DimEventCollector_8cc_source.html#l00080">~DimEventCollector()</a>.</p>

</div>
</div>
<a class="anchor" id="a9a777dd4dd235f1572eb012d32f39ddb"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">DimService* dqm4hep::core::DimEventCollector::m_pEventUpdateService</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="DimEventCollector_8h_source.html#l00172">172</a> of file <a class="el" href="DimEventCollector_8h_source.html">DimEventCollector.h</a>.</p>

<p>Referenced by <a class="el" href="DimEventCollector_8cc_source.html#l00125">startCollector()</a>, <a class="el" href="DimEventCollector_8cc_source.html#l00162">stopCollector()</a>, and <a class="el" href="DimEventCollector_8cc_source.html#l00387">updateEventService()</a>.</p>

</div>
</div>
<a class="anchor" id="ab861d1f83703b274c90d5f501e9d7f5e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">DimService* dqm4hep::core::DimEventCollector::m_pServerStateService</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="DimEventCollector_8h_source.html#l00170">170</a> of file <a class="el" href="DimEventCollector_8h_source.html">DimEventCollector.h</a>.</p>

<p>Referenced by <a class="el" href="DimEventCollector_8cc_source.html#l00125">startCollector()</a>, and <a class="el" href="DimEventCollector_8cc_source.html#l00162">stopCollector()</a>.</p>

</div>
</div>
<a class="anchor" id="a7d39789cdf38a172510219865bf8e0a6"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classdqm4hep_1_1core_1_1StatisticsService.html">StatisticsService</a>* dqm4hep::core::DimEventCollector::m_pStatisticsService</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="DimEventCollector_8h_source.html#l00173">173</a> of file <a class="el" href="DimEventCollector_8h_source.html">DimEventCollector.h</a>.</p>

<p>Referenced by <a class="el" href="DimEventCollector_8cc_source.html#l00209">handleEventReception()</a>, <a class="el" href="DimEventCollector_8cc_source.html#l00125">startCollector()</a>, and <a class="el" href="DimEventCollector_8cc_source.html#l00162">stopCollector()</a>.</p>

</div>
</div>
<a class="anchor" id="a867891d8d31779f629177c3e9f495717"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">xdrstream::BufferDevice* dqm4hep::core::DimEventCollector::m_pSubEventBuffer</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="DimEventCollector_8h_source.html#l00185">185</a> of file <a class="el" href="DimEventCollector_8h_source.html">DimEventCollector.h</a>.</p>

<p>Referenced by <a class="el" href="DimEventCollector_8cc_source.html#l00058">DimEventCollector()</a>, <a class="el" href="DimEventCollector_8cc_source.html#l00255">handleEventRequest()</a>, <a class="el" href="DimEventCollector_8cc_source.html#l00387">updateEventService()</a>, and <a class="el" href="DimEventCollector_8cc_source.html#l00080">~DimEventCollector()</a>.</p>

</div>
</div>
<a class="anchor" id="a162c2283c2ac96285725a97dc499105f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">DimCommand* dqm4hep::core::DimEventCollector::m_pSubEventIdentifierCommand</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="DimEventCollector_8h_source.html#l00178">178</a> of file <a class="el" href="DimEventCollector_8h_source.html">DimEventCollector.h</a>.</p>

<p>Referenced by <a class="el" href="DimEventCollector_8cc_source.html#l00306">commandHandler()</a>, <a class="el" href="DimEventCollector_8cc_source.html#l00125">startCollector()</a>, and <a class="el" href="DimEventCollector_8cc_source.html#l00162">stopCollector()</a>.</p>

</div>
</div>
<a class="anchor" id="a1c68397e475187d5bc4c59842c3e8aaa"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">DimCommand* dqm4hep::core::DimEventCollector::m_pUpdateModeCommand</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="DimEventCollector_8h_source.html#l00177">177</a> of file <a class="el" href="DimEventCollector_8h_source.html">DimEventCollector.h</a>.</p>

<p>Referenced by <a class="el" href="DimEventCollector_8cc_source.html#l00306">commandHandler()</a>, <a class="el" href="DimEventCollector_8cc_source.html#l00125">startCollector()</a>, and <a class="el" href="DimEventCollector_8cc_source.html#l00162">stopCollector()</a>.</p>

</div>
</div>
<a class="anchor" id="a8e7cae4f41dfc624e6ddccb5cb3b16d3"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int dqm4hep::core::DimEventCollector::m_state</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="DimEventCollector_8h_source.html#l00166">166</a> of file <a class="el" href="DimEventCollector_8h_source.html">DimEventCollector.h</a>.</p>

<p>Referenced by <a class="el" href="DimEventCollector_8cc_source.html#l00125">startCollector()</a>, and <a class="el" href="DimEventCollector_8cc_source.html#l00162">stopCollector()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="DimEventCollector_8h_source.html">DimEventCollector.h</a></li>
<li><a class="el" href="DimEventCollector_8cc_source.html">DimEventCollector.cc</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Apr 23 2018 12:03:47 for DQMOnline by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.6
</small></address>
</body>
</html>
